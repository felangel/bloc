---
title: Avoid async emit
description: The avoid_sync_emit rule.
---

import { Badge } from '@astrojs/starlight/components';
import EnableRuleSnippet from '~/components/lint-rules/EnableRuleSnippet.astro';
import BadSnippet from '~/components/lint-rules/avoid_async_emit/BadSnippet.mdx';
import GoodSnippet from '~/components/lint-rules/avoid_async_emit/GoodSnippet.astro';

<div class="badges">
	<Badge text="new" />
	<Badge text="dart" variant="note" />
</div>

Do not use emit across asynchronous gaps.

## Rationale

DON'T use emit across asynchronous gaps.
Using emit after an asynchronous gap (such as after an await or inside an async callback) is unsafe because the Cubit or Bloc may have been closed while awaiting, leading to exceptions or unexpected behavior. Always ensure emit is called synchronously or properly guarded to avoid emitting on a closed instance.

## Examples

**Avoid** emit after async method

**BAD**:

<BadSnippet />

**GOOD**:

<GoodSnippet />

## Enable

To enable the `avoid_async_emit` rule, add it to your
`analysis_options.yaml` under `bloc` > `rules`:

<EnableRuleSnippet name="avoid_async_emit" />