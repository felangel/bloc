---
title: Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù…Ù‡Ø§Ø¬Ø±Øª
description: Ù…Ù‡Ø§Ø¬Ø±Øª Ø¨Ù‡ Ø¢Ø®Ø±ÛŒÙ† Ù†Ø³Ø®Ù‡ Ù¾Ø§ÛŒØ¯Ø§Ø± Bloc.
---

import { Code, Tabs, TabItem } from '@astrojs/starlight/components';

:::tip

Ù„Ø·ÙØ§Ù‹ Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ± Ø¯Ø± Ù…ÙˆØ±Ø¯ Ø¢Ù†Ú†Ù‡ Ø¯Ø± Ù‡Ø± Ø§Ù†ØªØ´Ø§Ø± ØªØºÛŒÛŒØ± Ú©Ø±Ø¯Ù‡ØŒ Ø¨Ù‡
[release log](https://github.com/felangel/bloc/releases) Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.

:::

## v10.0.0

### `package:bloc_test`

#### â—âœ¨ Ø¬Ø¯Ø§ Ú©Ø±Ø¯Ù† `blocTest` Ø§Ø² `BlocBase`

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc_test v10.0.0ØŒ API `blocTest` Ø¯ÛŒÚ¯Ø± Ø¨Ù‡ Ø´Ø¯Øª Ø¨Ù‡ `BlocBase` Ù…ØªØµÙ„ Ù†ÛŒØ³Øª.

:::

##### Ø¯Ù„ÛŒÙ„

`blocTest` Ø¨Ø§ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø§ÙØ²Ø§ÛŒØ´ Ø§Ù†Ø¹Ø·Ø§Ù Ù¾Ø°ÛŒØ±ÛŒ Ùˆ Ù‚Ø§Ø¨Ù„ÛŒØª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…Ø¬Ø¯Ø¯ ØªØ§ Ø­Ø¯ Ø§Ù…Ú©Ø§Ù† Ø§Ø²
Ø±Ø§Ø¨Ø· Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ bloc Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ø¯. Ù‚Ø¨Ù„Ø§Ù‹ Ø§ÛŒÙ† Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ù†Ø¨ÙˆØ¯ Ø²ÛŒØ±Ø§ `BlocBase`
`StateStreamableSource` Ø±Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÛŒâ€ŒÚ©Ø±Ø¯ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ `blocTest` Ú©Ø§ÙÛŒ Ù†Ø¨ÙˆØ¯ Ø¨Ù‡
Ø¯Ù„ÛŒÙ„ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ø¨Ù‡ API `emit`.

### `package:hydrated_bloc`

#### â—âœ¨ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² WebAssembly

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± hydrated_bloc v10.0.0ØŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„ Ø¨Ù‡ WebAssembly (wasm) Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.

:::

##### Ø¯Ù„ÛŒÙ„

Ù‚Ø¨Ù„Ø§Ù‹ Ø§Ù…Ú©Ø§Ù† Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ù‡ wasm Ù‡Ù†Ú¯Ø§Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `hydrated_bloc` ÙˆØ¬ÙˆØ¯
Ù†Ø¯Ø§Ø´Øª. Ø¯Ø± v10.0.0ØŒ Ø¨Ø³ØªÙ‡ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ Ø´Ø¯ ØªØ§ Ø§Ø¬Ø§Ø²Ù‡ Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„ Ø¨Ù‡ wasm Ø±Ø§ Ø¨Ø¯Ù‡Ø¯.

**v9.x.x**

```dart
Future<void> main() async {
  WidgetsFlutterBinding.ensureInitialized();
  HydratedBloc.storage = await HydratedStorage.build(
    storageDirectory: kIsWeb
        ? HydratedStorage.webStorageDirectory
        : await getTemporaryDirectory(),
  );
  runApp(App());
}
```

**v10.x.x**

```dart
void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  HydratedBloc.storage = await HydratedStorage.build(
    storageDirectory: kIsWeb
        ? HydratedStorageDirectory.web
        : HydratedStorageDirectory((await getTemporaryDirectory()).path),
  );
  runApp(const App());
}
```

## v9.0.0

### `package:bloc`

#### â—ğŸ§¹ Ø­Ø°Ù APIÙ‡Ø§ÛŒ Ù…Ù†Ø³ÙˆØ® Ø´Ø¯Ù‡

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc v9.0.0ØŒ Ù‡Ù…Ù‡ APIÙ‡Ø§ÛŒ Ù…Ù†Ø³ÙˆØ® Ø´Ø¯Ù‡ Ù‚Ø¨Ù„ÛŒ Ø­Ø°Ù Ø´Ø¯Ù†Ø¯.

:::

##### Ø®Ù„Ø§ØµÙ‡

- `BlocOverrides` Ø­Ø°Ù Ø´Ø¯ Ø¨Ù‡ Ù†ÙØ¹ `Bloc.observer` Ùˆ `Bloc.transformer`

#### â—âœ¨ Ù…Ø¹Ø±ÙÛŒ Ø±Ø§Ø¨Ø· Ø¬Ø¯ÛŒØ¯ `EmittableStateStreamableSource`

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc v9.0.0ØŒ ÛŒÚ© Ø±Ø§Ø¨Ø· Ø§ØµÙ„ÛŒ Ø¬Ø¯ÛŒØ¯ `EmittableStateStreamableSource` Ù…Ø¹Ø±ÙÛŒ Ø´Ø¯.

:::

##### Ø¯Ù„ÛŒÙ„

`package:bloc_test` Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ù‡ Ø´Ø¯Øª Ø¨Ù‡ `BlocBase` Ù…ØªØµÙ„ Ø¨ÙˆØ¯. Ø±Ø§Ø¨Ø·
`EmittableStateStreamableSource` Ù…Ø¹Ø±ÙÛŒ Ø´Ø¯ ØªØ§ Ø§Ø¬Ø§Ø²Ù‡ Ø¯Ù‡Ø¯ `blocTest` Ø§Ø² Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ
Ù¾Ø§ÛŒÙ‡ `BlocBase` Ø¬Ø¯Ø§ Ø´ÙˆØ¯.

### `package:hydrated_bloc`

#### âœ¨ Ø¨Ø§Ø² ØªØ¹Ø±ÛŒÙ API `HydratedBloc.storage`

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± hydrated_bloc v9.0.0ØŒ `HydratedBlocOverrides` Ø­Ø°Ù Ø´Ø¯ Ø¨Ù‡ Ù†ÙØ¹ API
`HydratedBloc.storage`.

:::

##### Ø¯Ù„ÛŒÙ„

Ø¨Ù‡
[Ø¯Ù„ÛŒÙ„ Ø¨Ø§Ø² ØªØ¹Ø±ÛŒÙ overrides Bloc.observer Ùˆ Bloc.transformer](/fa/migration#-Ø¨Ø§Ø²-ØªØ¹Ø±ÛŒÙ-apiÙ‡Ø§ÛŒ-blocobserver-Ùˆ-bloctransformer)
Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.

**v8.x.x**

```dart
Future<void> main() async {
  final storage = await HydratedStorage.build(
    storageDirectory: kIsWeb
        ? HydratedStorage.webStorageDirectory
        : await getTemporaryDirectory(),
  );
  HydratedBlocOverrides.runZoned(
    () => runApp(App()),
    storage: storage,
  );
}
```

**v9.0.0**

```dart
Future<void> main() async {
  WidgetsFlutterBinding.ensureInitialized();
  HydratedBloc.storage = await HydratedStorage.build(
    storageDirectory: kIsWeb
        ? HydratedStorage.webStorageDirectory
        : await getTemporaryDirectory(),
  );
  runApp(App());
}
```

## v8.1.0

### `package:bloc`

#### âœ¨ Ø¨Ø§Ø² ØªØ¹Ø±ÛŒÙ APIÙ‡Ø§ÛŒ `Bloc.observer` Ùˆ `Bloc.transformer`

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc v8.1.0ØŒ `BlocOverrides` Ù…Ù†Ø³ÙˆØ® Ø´Ø¯ Ø¨Ù‡ Ù†ÙØ¹ APIÙ‡Ø§ÛŒ `Bloc.observer` Ùˆ
`Bloc.transformer`.

:::

##### Ø¯Ù„ÛŒÙ„

API `BlocOverrides` Ø¯Ø± v8.0.0 Ù…Ø¹Ø±ÙÛŒ Ø´Ø¯ Ø¯Ø± ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² scoping ØªÙ†Ø¸ÛŒÙ…Ø§Øª
Ø®Ø§Øµ bloc Ù…Ø§Ù†Ù†Ø¯ `BlocObserver`, `EventTransformer`, Ùˆ `HydratedStorage`. Ø¯Ø±
Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø±Øª Ø®Ø§Ù„ØµØŒ ØªØºÛŒÛŒØ±Ø§Øª Ø®ÙˆØ¨ Ú©Ø§Ø± Ú©Ø±Ø¯Ù†Ø¯Ø› Ø¨Ø§ Ø§ÛŒÙ† Ø­Ø§Ù„ØŒ Ø¯Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ÙÙ„Ø§ØªØ±ØŒ
API Ø¬Ø¯ÛŒØ¯ Ù…Ø´Ú©Ù„Ø§Øª Ø¨ÛŒØ´ØªØ±ÛŒ Ù†Ø³Ø¨Øª Ø¨Ù‡ Ø¢Ù†Ú†Ù‡ Ø­Ù„ Ú©Ø±Ø¯ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯.

API `BlocOverrides` Ø§Ù„Ù‡Ø§Ù… Ú¯Ø±ÙØªÙ‡ Ø§Ø² APIÙ‡Ø§ÛŒ Ù…Ø´Ø§Ø¨Ù‡ Ø¯Ø± Flutter/Dart Ø¨ÙˆØ¯:

- [HttpOverrides](https://api.flutter.dev/flutter/dart-io/HttpOverrides-class.html)
- [IOOverrides](https://api.flutter.dev/flutter/dart-io/IOOverrides-class.html)

**Ù…Ø´Ú©Ù„Ø§Øª**

Ø¯Ø± Ø­Ø§Ù„ÛŒ Ú©Ù‡ Ø¯Ù„ÛŒÙ„ Ø§ØµÙ„ÛŒ Ø§ÛŒÙ† ØªØºÛŒÛŒØ±Ø§Øª Ù†Ø¨ÙˆØ¯ØŒ API `BlocOverrides` Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ Ø§Ø¶Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ
ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ù…Ø¹Ø±ÙÛŒ Ú©Ø±Ø¯. Ø¹Ù„Ø§ÙˆÙ‡ Ø¨Ø± Ø§ÙØ²Ø§ÛŒØ´ Ù…Ù‚Ø¯Ø§Ø± nesting Ùˆ Ø®Ø·ÙˆØ· Ú©Ø¯ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø¨Ø±Ø§ÛŒ
Ø¯Ø³ØªÛŒØ§Ø¨ÛŒ Ø¨Ù‡ Ù‡Ù…Ø§Ù† Ø§Ø«Ø±ØŒ API `BlocOverrides` Ù†ÛŒØ§Ø² Ø¯Ø§Ø´Øª ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ø¯Ø±Ú© Ø¬Ø§Ù…Ø¹ÛŒ Ø§Ø²
[Zones](https://api.dart.dev/stable/2.17.6/dart-async/Zone-class.html) Ø¯Ø± Ø²Ø¨Ø§Ù†
Ø¯Ø§Ø±Øª Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯. `Zones` Ù…ÙÙ‡ÙˆÙ…ÛŒ Ø¯ÙˆØ³ØªØ§Ù†Ù‡ Ø¨Ø±Ø§ÛŒ Ù…Ø¨ØªØ¯ÛŒØ§Ù† Ù†ÛŒØ³Øª Ùˆ Ø´Ú©Ø³Øª Ø¯Ø± Ø¯Ø±Ú© Ù†Ø­ÙˆÙ‡
Ú©Ø§Ø± Zones Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù…Ù†Ø¬Ø± Ø¨Ù‡ Ù…Ø¹Ø±ÙÛŒ Ø¨Ø§Ú¯ Ø´ÙˆØ¯ (Ù…Ø§Ù†Ù†Ø¯ observersØŒ transformersØŒ
Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ storage ØºÛŒØ± Ø§ÙˆÙ„ÛŒÙ‡).

Ø¨Ø±Ø§ÛŒ Ù…Ø«Ø§Ù„ØŒ Ø¨Ø³ÛŒØ§Ø±ÛŒ Ø§Ø² ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ú†ÛŒØ²ÛŒ Ù…Ø§Ù†Ù†Ø¯ Ø§ÛŒÙ† Ø¯Ø§Ø´ØªÙ†Ø¯:

```dart
void main() {
  WidgetsFlutterBinding.ensureInitialized();
  BlocOverrides.runZoned(...);
}
```

Ú©Ø¯ Ø¨Ø§Ù„Ø§ØŒ Ø¯Ø± Ø­Ø§Ù„ÛŒ Ú©Ù‡ Ø¨ÛŒâ€ŒØ¶Ø±Ø± Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³Ø¯ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù…Ù†Ø¬Ø± Ø¨Ù‡ Ø¨Ø³ÛŒØ§Ø±ÛŒ Ø§Ø² Ø¨Ø§Ú¯â€ŒÙ‡Ø§ÛŒ
Ø¯Ø´ÙˆØ§Ø± Ø¨Ø±Ø§ÛŒ Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø´ÙˆØ¯. Ù‡Ø± zone Ú©Ù‡ `WidgetsFlutterBinding.ensureInitialized`
Ø§Ø¨ØªØ¯Ø§ Ø§Ø² Ø¢Ù† ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ø´ÙˆØ¯ØŒ zone Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯ Ú©Ù‡ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ gesture Ø¯Ø± Ø¢Ù† Ù…Ø¯ÛŒØ±ÛŒØª
Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ (Ù…Ø«Ù„Ø§Ù‹ callbacks `onTap`, `onPressed`) Ø¨Ù‡ Ø¯Ù„ÛŒÙ„
`GestureBinding.initInstances`. Ø§ÛŒÙ† ÙÙ‚Ø· ÛŒÚ©ÛŒ Ø§Ø² Ø¨Ø³ÛŒØ§Ø±ÛŒ Ø§Ø² Ù…Ø³Ø§Ø¦Ù„ Ù†Ø§Ø´ÛŒ Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡
Ø§Ø² `zoneValues` Ø§Ø³Øª.

Ø¹Ù„Ø§ÙˆÙ‡ Ø¨Ø± Ø§ÛŒÙ†ØŒ ÙÙ„Ø§ØªØ± Ø¨Ø³ÛŒØ§Ø±ÛŒ Ø§Ø² Ú©Ø§Ø±Ù‡Ø§ Ø±Ø§ Ù¾Ø´Øª ØµØ­Ù†Ù‡ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ú©Ù‡ Ø´Ø§Ù…Ù„
forking/manipulating Zones Ø§Ø³Øª (Ø¨Ù‡ ÙˆÛŒÚ˜Ù‡ Ù‡Ù†Ú¯Ø§Ù… Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§) Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù…Ù†Ø¬Ø± Ø¨Ù‡
Ø±ÙØªØ§Ø±Ù‡Ø§ÛŒ ØºÛŒØ±Ù…Ù†ØªØ¸Ø±Ù‡ Ø´ÙˆØ¯ (Ùˆ Ø¯Ø± Ø¨Ø³ÛŒØ§Ø±ÛŒ Ø§Ø² Ù…ÙˆØ§Ø±Ø¯ Ø±ÙØªØ§Ø±Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø®Ø§Ø±Ø¬ Ø§Ø² Ú©Ù†ØªØ±Ù„
ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ Ø§Ø³Øª -- Ù…Ø³Ø§Ø¦Ù„ Ø²ÛŒØ± Ø±Ø§ Ø¨Ø¨ÛŒÙ†ÛŒØ¯).

Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø²
[runZoned](https://api.flutter.dev/flutter/dart-async/runZoned.html), Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ù‡
API `BlocOverrides` Ù…Ù†Ø¬Ø± Ø¨Ù‡ Ú©Ø´Ù Ú†Ù†Ø¯ÛŒÙ† Ø¨Ø§Ú¯/Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¯Ø± ÙÙ„Ø§ØªØ± Ø´Ø¯ (Ø¨Ù‡ Ø·ÙˆØ± Ø®Ø§Øµ Ø¯Ø±
Ù…ÙˆØ±Ø¯ Widget Ùˆ Integration Tests):

- https://github.com/flutter/flutter/issues/96939
- https://github.com/flutter/flutter/issues/94123
- https://github.com/flutter/flutter/issues/93676

Ú©Ù‡ Ø¨Ø³ÛŒØ§Ø±ÛŒ Ø§Ø² ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø§Ø² Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ bloc Ø±Ø§ ØªØ­Øª ØªØ£Ø«ÛŒØ± Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯:

- https://github.com/felangel/bloc/issues/3394
- https://github.com/felangel/bloc/issues/3350
- https://github.com/felangel/bloc/issues/3319

**v8.0.x**

```dart
void main() {
  BlocOverrides.runZoned(
    () {
      // ...
    },
    blocObserver: CustomBlocObserver(),
    eventTransformer: customEventTransformer(),
  );
}
```

**v8.1.0**

```dart
void main() {
  Bloc.observer = CustomBlocObserver();
  Bloc.transformer = customEventTransformer();

  // ...
}
```

## v8.0.0

### `package:bloc`

#### â—âœ¨ Ù…Ø¹Ø±ÙÛŒ API Ø¬Ø¯ÛŒØ¯ `BlocOverrides`

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc v8.0.0ØŒ `Bloc.observer` Ùˆ `Bloc.transformer` Ø­Ø°Ù Ø´Ø¯Ù†Ø¯ Ø¨Ù‡ Ù†ÙØ¹ API
`BlocOverrides`.

:::

##### Ø¯Ù„ÛŒÙ„

API Ù‚Ø¨Ù„ÛŒ Ø¨Ø±Ø§ÛŒ override Ú©Ø±Ø¯Ù† Ù¾ÛŒØ´â€ŒÙØ±Ø¶ `BlocObserver` Ùˆ `EventTransformer` Ø¨Ù‡ ÛŒÚ©
singleton Ø¬Ù‡Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¯Ùˆ `BlocObserver` Ùˆ `EventTransformer` Ù…ØªÚ©ÛŒ Ø¨ÙˆØ¯.

Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ØŒ Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ù†Ø¨ÙˆØ¯:

- Ø¯Ø§Ø´ØªÙ† Ú†Ù†Ø¯ÛŒÙ† Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ `BlocObserver` ÛŒØ§ `EventTransformer` scoped Ø¨Ù‡ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ
  Ù…Ø®ØªÙ„Ù Ø¨Ø±Ù†Ø§Ù…Ù‡
- Ø¯Ø§Ø´ØªÙ† overrides `BlocObserver` ÛŒØ§ `EventTransformer` scoped Ø¨Ù‡ ÛŒÚ© Ø¨Ø³ØªÙ‡
  - Ø§Ú¯Ø± Ø¨Ø³ØªÙ‡â€ŒØ§ÛŒ Ø¨Ù‡ `package:bloc` ÙˆØ§Ø¨Ø³ØªÙ‡ Ø¨ÙˆØ¯ Ùˆ `BlocObserver` Ø®ÙˆØ¯ Ø±Ø§ Ø«Ø¨Øª Ù…ÛŒâ€ŒÚ©Ø±Ø¯ØŒ
    Ù‡Ø± Ù…ØµØ±Ùâ€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø¨Ø³ØªÙ‡ ÛŒØ§ Ø¨Ø§ÛŒØ¯ `BlocObserver` Ø¨Ø³ØªÙ‡ Ø±Ø§ overwrite Ù…ÛŒâ€ŒÚ©Ø±Ø¯ ÛŒØ§ Ø¨Ù‡
    `BlocObserver` Ø¨Ø³ØªÙ‡ Ú¯Ø²Ø§Ø±Ø´ Ù…ÛŒâ€ŒÚ©Ø±Ø¯.

Ù‡Ù…Ú†Ù†ÛŒÙ† ØªØ³Øª Ú©Ø±Ø¯Ù† Ø¯Ø´ÙˆØ§Ø±ØªØ± Ø¨ÙˆØ¯ Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø­Ø§Ù„Øª Ø¬Ù‡Ø§Ù†ÛŒ Ù…Ø´ØªØ±Ú© Ø¯Ø± ØªØ³Øªâ€ŒÙ‡Ø§.

Bloc v8.0.0 Ú©Ù„Ø§Ø³ `BlocOverrides` Ø±Ø§ Ù…Ø¹Ø±ÙÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ø¨Ù‡ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ø§Ø¬Ø§Ø²Ù‡
Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ `BlocObserver` Ùˆ/ÛŒØ§ `EventTransformer` Ø±Ø§ Ø¨Ø±Ø§ÛŒ ÛŒÚ© `Zone` Ø®Ø§Øµ override
Ú©Ù†Ù†Ø¯ Ø¨Ù‡ Ø¬Ø§ÛŒ Ù…ØªÚ©ÛŒ Ø¨ÙˆØ¯Ù† Ø¨Ù‡ ÛŒÚ© singleton mutable Ø¬Ù‡Ø§Ù†ÛŒ.

**v7.x.x**

```dart
void main() {
  Bloc.observer = CustomBlocObserver();
  Bloc.transformer = customEventTransformer();

  // ...
}
```

**v8.0.0**

```dart
void main() {
  BlocOverrides.runZoned(
    () {
      // ...
    },
    blocObserver: CustomBlocObserver(),
    eventTransformer: customEventTransformer(),
  );
}
```

Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ `Bloc` Ø§Ø² `BlocObserver` Ùˆ/ÛŒØ§ `EventTransformer` Ø¨Ø±Ø§ÛŒ zone ÙØ¹Ù„ÛŒ Ø§Ø²
Ø·Ø±ÛŒÙ‚ `BlocOverrides.current` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ú©Ø±Ø¯. Ø§Ú¯Ø± Ù‡ÛŒÚ† `BlocOverrides` Ø¨Ø±Ø§ÛŒ
zone ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯ØŒ Ø§Ø² Ù¾ÛŒØ´â€ŒÙØ±Ø¶â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ú©Ø±Ø¯ (Ù‡ÛŒÚ† ØªØºÛŒÛŒØ±ÛŒ
Ø¯Ø± Ø±ÙØªØ§Ø±/Ø¹Ù…Ù„Ú©Ø±Ø¯).

Ø§ÛŒÙ† Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ù‡Ø± `Zone` Ù…Ø³ØªÙ‚Ù„ Ø¨Ø§ `BlocOverrides` Ø®ÙˆØ¯ Ø¹Ù…Ù„ Ú©Ù†Ø¯.

```dart
BlocOverrides.runZoned(
  () {
    // BlocObserverA and eventTransformerA
    final overrides = BlocOverrides.current;

    // Blocs in this zone report to BlocObserverA
    // and use eventTransformerA as the default transformer.
    // ...

    // Later...
    BlocOverrides.runZoned(
      () {
        // BlocObserverB and eventTransformerB
        final overrides = BlocOverrides.current;

        // Blocs in this zone report to BlocObserverB
        // and use eventTransformerB as the default transformer.
        // ...
      },
      blocObserver: BlocObserverB(),
      eventTransformer: eventTransformerB(),
    );
  },
  blocObserver: BlocObserverA(),
  eventTransformer: eventTransformerA(),
);
```

#### â—âœ¨ Ø¨Ù‡Ø¨ÙˆØ¯ Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§ Ùˆ Ú¯Ø²Ø§Ø±Ø´

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc v8.0.0ØŒ `BlocUnhandledErrorException` Ø­Ø°Ù Ø´Ø¯. Ø¯Ø± Ø¹ÙˆØ¶ØŒ Ù‡Ø± Ø§Ø³ØªØ«Ù†Ø§ÛŒ catch
Ù†Ø´Ø¯Ù‡ Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ù‡ `onError` Ú¯Ø²Ø§Ø±Ø´ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ rethrown Ù…ÛŒâ€ŒØ´ÙˆØ¯ (Ø¨Ø¯ÙˆÙ† ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ø­Ø§Ù„Øª debug
ÛŒØ§ release). API `addError` Ø®Ø·Ø§Ù‡Ø§ Ø±Ø§ Ø¨Ù‡ `onError` Ú¯Ø²Ø§Ø±Ø´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ØŒ Ø§Ù…Ø§ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ú¯Ø²Ø§Ø±Ø´
Ø´Ø¯Ù‡ Ø±Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø§Ø³ØªØ«Ù†Ø§Ù‡Ø§ÛŒ catch Ù†Ø´Ø¯Ù‡ ØªÙ„Ù‚ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

:::

##### Ø¯Ù„ÛŒÙ„

Ù‡Ø¯Ù Ø§ÛŒÙ† ØªØºÛŒÛŒØ±Ø§Øª:

- Ø§Ø³ØªØ«Ù†Ø§Ù‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ unhandled Ø±Ø§ Ø¨Ø³ÛŒØ§Ø± ÙˆØ§Ø¶Ø­ Ú©Ù†Ø¯ Ø¯Ø± Ø­Ø§Ù„ÛŒ Ú©Ù‡ Ø¹Ù…Ù„Ú©Ø±Ø¯ bloc Ø±Ø§ Ø­ÙØ¸ Ú©Ù†Ø¯
- Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² `addError` Ø¨Ø¯ÙˆÙ† Ø§Ø®ØªÙ„Ø§Ù„ Ø¯Ø± Ø¬Ø±ÛŒØ§Ù† Ú©Ù†ØªØ±Ù„

Ù‚Ø¨Ù„Ø§Ù‹ØŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§ Ùˆ Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø³ØªÙ‡ Ø¨Ù‡ Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¯Ø± Ø­Ø§Ù„Øª debug ÛŒØ§ release Ø§Ø¬Ø±Ø§
Ù…ÛŒâ€ŒØ´Ø¯ Ù…ØªÙØ§ÙˆØª Ø¨ÙˆØ¯. Ø¹Ù„Ø§ÙˆÙ‡ Ø¨Ø± Ø§ÛŒÙ†ØŒ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ú¯Ø²Ø§Ø±Ø´ Ø´Ø¯Ù‡ Ø§Ø² Ø·Ø±ÛŒÙ‚ `addError` Ø¯Ø± Ø­Ø§Ù„Øª
debug Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø§Ø³ØªØ«Ù†Ø§Ù‡Ø§ÛŒ catch Ù†Ø´Ø¯Ù‡ ØªÙ„Ù‚ÛŒ Ù…ÛŒâ€ŒØ´Ø¯Ù†Ø¯ Ú©Ù‡ Ù…Ù†Ø¬Ø± Ø¨Ù‡ ØªØ¬Ø±Ø¨Ù‡ ØªÙˆØ³Ø¹Ù‡ Ø¶Ø¹ÛŒÙ
Ù‡Ù†Ú¯Ø§Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² API `addError` Ù…ÛŒâ€ŒØ´Ø¯ (Ø¨Ù‡ Ø·ÙˆØ± Ø®Ø§Øµ Ù‡Ù†Ú¯Ø§Ù… Ù†ÙˆØ´ØªÙ† ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ ÙˆØ§Ø­Ø¯).

Ø¯Ø± v8.0.0ØŒ `addError` Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø´Ú©Ù„ Ø§ÛŒÙ…Ù† Ø¨Ø±Ø§ÛŒ Ú¯Ø²Ø§Ø±Ø´ Ø®Ø·Ø§Ù‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯ Ùˆ
`blocTest` Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ø±Ø§ÛŒ ØªØ£ÛŒÛŒØ¯ Ú¯Ø²Ø§Ø±Ø´ Ø®Ø·Ø§Ù‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯. Ù‡Ù…Ù‡ Ø®Ø·Ø§Ù‡Ø§ Ù‡Ù†ÙˆØ² Ø¨Ù‡
`onError` Ú¯Ø²Ø§Ø±Ø´ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ØŒ Ø¨Ø§ Ø§ÛŒÙ† Ø­Ø§Ù„ØŒ ÙÙ‚Ø· Ø§Ø³ØªØ«Ù†Ø§Ù‡Ø§ÛŒ catch Ù†Ø´Ø¯Ù‡ rethrown Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
(Ø¨Ø¯ÙˆÙ† ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ø­Ø§Ù„Øª debug ÛŒØ§ release).

#### â—ğŸ§¹ ØªØ¨Ø¯ÛŒÙ„ `BlocObserver` Ø¨Ù‡ abstract

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc v8.0.0ØŒ `BlocObserver` Ø¨Ù‡ ÛŒÚ© Ú©Ù„Ø§Ø³ `abstract` ØªØ¨Ø¯ÛŒÙ„ Ø´Ø¯ Ú©Ù‡ Ø¨Ù‡ Ù…Ø¹Ù†Ø§ÛŒ Ø§Ù…Ú©Ø§Ù†
Ù†Ù…ÙˆÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø² `BlocObserver` Ù†ÛŒØ³Øª.

:::

##### Ø¯Ù„ÛŒÙ„

`BlocObserver` Ù‚Ø±Ø§Ø± Ø¨ÙˆØ¯ ÛŒÚ© interface Ø¨Ø§Ø´Ø¯. Ø§Ø² Ø¢Ù†Ø¬Ø§ÛŒÛŒ Ú©Ù‡ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ API
Ù¾ÛŒØ´â€ŒÙØ±Ø¶ no-ops Ù‡Ø³ØªÙ†Ø¯ØŒ `BlocObserver` Ø§Ú©Ù†ÙˆÙ† ÛŒÚ© Ú©Ù„Ø§Ø³ `abstract` Ø§Ø³Øª ØªØ§ Ø¨Ù‡ ÙˆØ¶ÙˆØ­
Ø§Ø±ØªØ¨Ø§Ø· Ø¯Ù‡Ø¯ Ú©Ù‡ Ú©Ù„Ø§Ø³ Ù‚Ø±Ø§Ø± Ø§Ø³Øª extend Ø´ÙˆØ¯ Ù†Ù‡ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ù†Ù…ÙˆÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´ÙˆØ¯.

**v7.x.x**

```dart
void main() {
  // Ø§Ù…Ú©Ø§Ù† Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø² Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª.
  final observer = BlocObserver();
}
```

**v8.0.0**

```dart
class MyBlocObserver extends BlocObserver {...}

void main() {
  // Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø² Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯.
  final observer = BlocObserver(); // ERROR

  // Ø¯Ø± Ø¹ÙˆØ¶ `BlocObserver` Ø±Ø§ extend Ú©Ù†ÛŒØ¯.
  final observer = MyBlocObserver(); // OK
}
```

#### â—âœ¨Ù…ØªØ¯ `add` Ø¨Ø§Ø¹Ø« Ø§ÛŒØ¬Ø§Ø¯ `StateError` Ù…ÛŒØ´ÙˆØ¯ Ø§Ú¯Ø± Bloc Ø¨Ø³ØªÙ‡ Ø¨Ø§Ø´Ø¯

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc v8.0.0ØŒ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ `add` Ø±ÙˆÛŒ ÛŒÚ© bloc Ø¨Ø³ØªÙ‡ Ù…Ù†Ø¬Ø± Ø¨Ù‡ `StateError` Ù…ÛŒâ€ŒØ´ÙˆØ¯.

:::

##### Ø¯Ù„ÛŒÙ„

Ù‚Ø¨Ù„Ø§Ù‹ Ø§Ù…Ú©Ø§Ù† Ø§ÛŒÙ† ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª Ú©Ù‡ Ù…ØªØ¯ `add` Ø±Ø§ Ø±ÙˆÛŒ ÛŒÚ© bloc Ø¨Ø³ØªÙ‡â€ŒØ´Ø¯Ù‡ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ú©Ù†ÛŒØ¯ Ùˆ
Ø®Ø·Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ‡ Ù…ÛŒâ€ŒØ´Ø¯ØŒ Ú©Ù‡ Ø¨Ø§Ø¹Ø« Ù…ÛŒâ€ŒØ´Ø¯ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø¯Ù„ÛŒÙ„ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù†Ø´Ø¯Ù† Ø±ÙˆÛŒØ¯Ø§Ø¯
Ø§Ø¶Ø§ÙÙ‡â€ŒØ´Ø¯Ù‡ Ø³Ø®Øª Ø¨Ø§Ø´Ø¯. Ø¨Ø±Ø§ÛŒ Ù‚Ø§Ø¨Ù„â€ŒÙ…Ø´Ø§Ù‡Ø¯Ù‡â€ŒØªØ± Ú©Ø±Ø¯Ù† Ø§ÛŒÙ† ÙˆØ¶Ø¹ÛŒØªØŒ Ø§Ø² Ù†Ø³Ø®Ù‡Ù” v8.0.0 Ø¨Ù‡ Ø¨Ø¹Ø¯ØŒ
ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ØªØ¯ `add` Ø±ÙˆÛŒ ÛŒÚ© bloc Ø¨Ø³ØªÙ‡â€ŒØ´Ø¯Ù‡ Ø¨Ø§Ø¹Ø« Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù† ÛŒÚ© `StateError` Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ú©Ù‡
Ø¨Ù‡â€ŒØ¹Ù†ÙˆØ§Ù† ÛŒÚ© Ø§Ø³ØªØ«Ù†Ø§ÛŒ Ú¯Ø±ÙØªÙ‡â€ŒÙ†Ø´Ø¯Ù‡ Ú¯Ø²Ø§Ø±Ø´ Ø´Ø¯Ù‡ Ùˆ Ø¨Ù‡ `onError` Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø¯.

#### â—âœ¨ `emit` Ø¨Ø§Ø¹Ø« Ø§ÛŒØ¬Ø§Ø¯ `StateError` Ù…ÛŒØ´ÙˆØ¯ Ø§Ú¯Ø± Bloc Ø¨Ø³ØªÙ‡ Ø¨Ø§Ø´Ø¯

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc v8.0.0ØŒ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ `emit` Ø¯Ø± ÛŒÚ© bloc Ø¨Ø³ØªÙ‡ Ù…Ù†Ø¬Ø± Ø¨Ù‡ `StateError` Ù…ÛŒâ€ŒØ´ÙˆØ¯.

:::

##### Ø¯Ù„ÛŒÙ„

Ù‚Ø¨Ù„Ø§Ù‹ØŒ Ø§Ù…Ú©Ø§Ù† ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ `emit` Ø¯Ø± ÛŒÚ© bloc Ø¨Ø³ØªÙ‡ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª Ùˆ Ù‡ÛŒÚ† ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª Ø±Ø®
Ù†Ù…ÛŒâ€ŒØ¯Ø§Ø¯ Ø§Ù…Ø§ Ù‡ÛŒÚ† Ù†Ø´Ø§Ù†Ú¯Ø±ÛŒ Ø§Ø² Ø¢Ù†Ú†Ù‡ Ø§Ø´ØªØ¨Ø§Ù‡ Ø±ÙØª ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´ØªØŒ Ú©Ù‡ Ø§Ø´Ú©Ø§Ù„â€ŒØ²Ø¯Ø§ÛŒÛŒ Ø±Ø§ Ø¯Ø´ÙˆØ§Ø±
Ù…ÛŒâ€ŒÚ©Ø±Ø¯. Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø§ÛŒÙ† Ø³Ù†Ø§Ø±ÛŒÙˆ Ø¨ÛŒØ´ØªØ± Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ØŒ Ø¯Ø± v8.0.0ØŒ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ `emit`
Ø¯Ø± ÛŒÚ© bloc Ø¨Ø³ØªÙ‡ `StateError` Ù…ÛŒâ€ŒØ§Ù†Ø¯Ø§Ø²Ø¯ Ú©Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© Ø§Ø³ØªØ«Ù†Ø§ catch Ù†Ø´Ø¯Ù‡ Ú¯Ø²Ø§Ø±Ø´
Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø¨Ù‡ `onError` propagate Ù…ÛŒâ€ŒØ´ÙˆØ¯.

#### â—ğŸ§¹ Ø­Ø°Ù APIÙ‡Ø§ÛŒ Ù…Ù†Ø³ÙˆØ® Ø´Ø¯Ù‡

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc v8.0.0ØŒ Ù‡Ù…Ù‡ APIÙ‡Ø§ÛŒ Ù…Ù†Ø³ÙˆØ® Ø´Ø¯Ù‡ Ù‚Ø¨Ù„ÛŒ Ø­Ø°Ù Ø´Ø¯Ù†Ø¯.

:::

##### Ø®Ù„Ø§ØµÙ‡

- `mapEventToState` Ø­Ø°Ù Ø´Ø¯ Ø¨Ù‡ Ù†ÙØ¹ `on<Event>`
- `transformEvents` Ø­Ø°Ù Ø´Ø¯ Ø¨Ù‡ Ù†ÙØ¹ API `EventTransformer`
- typedef `TransitionFunction` Ø­Ø°Ù Ø´Ø¯ Ø¨Ù‡ Ù†ÙØ¹ API `EventTransformer`
- `listen` Ø­Ø°Ù Ø´Ø¯ Ø¨Ù‡ Ù†ÙØ¹ `stream.listen`

### `package:bloc_test`

#### âœ¨ `MockBloc` Ùˆ `MockCubit` Ø¯ÛŒÚ¯Ø± Ù†ÛŒØ§Ø² Ø¨Ù‡ `registerFallbackValue` Ù†Ø¯Ø§Ø±Ù†Ø¯

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc_test v9.0.0ØŒ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ø¯ÛŒÚ¯Ø± Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ ØµØ±ÛŒØ­
`registerFallbackValue` Ù‡Ù†Ú¯Ø§Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `MockBloc` ÛŒØ§ `MockCubit` Ù†Ø¯Ø§Ø±Ù†Ø¯.

:::

##### Ø®Ù„Ø§ØµÙ‡

`registerFallbackValue` ÙÙ‚Ø· Ø²Ù…Ø§Ù†ÛŒ Ù†ÛŒØ§Ø² Ø§Ø³Øª Ú©Ù‡ Ø§Ø² ØªØ·Ø¨ÛŒÙ‚ Ø¯Ù‡Ù†Ø¯Ù‡ `any()` Ø§Ø²
`package:mocktail` Ø¨Ø±Ø§ÛŒ ÛŒÚ© Ù†ÙˆØ¹ Ø³ÙØ§Ø±Ø´ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯. Ù‚Ø¨Ù„Ø§Ù‹ØŒ
`registerFallbackValue` Ø¨Ø±Ø§ÛŒ Ù‡Ø± `Ø±ÙˆÛŒØ¯Ø§Ø¯` Ùˆ `Ø­Ø§Ù„Øª` Ù‡Ù†Ú¯Ø§Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `MockBloc` ÛŒØ§
`MockCubit` Ù†ÛŒØ§Ø² Ø¨ÙˆØ¯.

**v8.x.x**

```dart
class FakeMyEvent extends Fake implements MyEvent {}
class FakeMyState extends Fake implements MyState {}
class MyMockBloc extends MockBloc<MyEvent, MyState> implements MyBloc {}

void main() {
  setUpAll(() {
    registerFallbackValue(FakeMyEvent());
    registerFallbackValue(FakeMyState());
  });

  // Tests...
}
```

**v9.0.0**

```dart
class MyMockBloc extends MockBloc<MyEvent, MyState> implements MyBloc {}

void main() {
  // Tests...
}
```

### `package:hydrated_bloc`

#### â—âœ¨ Ù…Ø¹Ø±ÙÛŒ API Ø¬Ø¯ÛŒØ¯ `HydratedBlocOverrides`

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± hydrated_bloc v8.0.0ØŒ `HydratedBloc.storage` Ø­Ø°Ù Ø´Ø¯ Ø¨Ù‡ Ù†ÙØ¹ API
`HydratedBlocOverrides`.

:::

##### Ø¯Ù„ÛŒÙ„

Ù‚Ø¨Ù„Ø§Ù‹ØŒ ÛŒÚ© singleton Ø¬Ù‡Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ override Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ `Storage` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´Ø¯.

Ø¯Ø± Ù†ØªÛŒØ¬Ù‡ØŒ Ø§Ù…Ú©Ø§Ù†â€ŒÙ¾Ø°ÛŒØ± Ù†Ø¨ÙˆØ¯ Ø¯Ø§Ø´ØªÙ† Ú†Ù†Ø¯ÛŒÙ† Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ `Storage` scoped Ø¨Ù‡ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ
Ù…Ø®ØªÙ„Ù Ø¨Ø±Ù†Ø§Ù…Ù‡. Ù‡Ù…Ú†Ù†ÛŒÙ† ØªØ³Øª Ú©Ø±Ø¯Ù† Ø¯Ø´ÙˆØ§Ø±ØªØ± Ø¨ÙˆØ¯ Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø­Ø§Ù„Øª Ø¬Ù‡Ø§Ù†ÛŒ Ù…Ø´ØªØ±Ú© Ø¯Ø± ØªØ³Øªâ€ŒÙ‡Ø§.

`HydratedBloc` v8.0.0 Ú©Ù„Ø§Ø³ `HydratedBlocOverrides` Ø±Ø§ Ù…Ø¹Ø±ÙÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ø¨Ù‡
ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ `Storage` Ø±Ø§ Ø¨Ø±Ø§ÛŒ ÛŒÚ© `Zone` Ø®Ø§Øµ override Ú©Ù†Ù†Ø¯ Ø¨Ù‡ Ø¬Ø§ÛŒ
Ù…ØªÚ©ÛŒ Ø¨ÙˆØ¯Ù† Ø¨Ù‡ ÛŒÚ© singleton Ù‚Ø§Ø¨Ù„ ØªØºÛŒÛŒØ± Ø¬Ù‡Ø§Ù†ÛŒ.

**v7.x.x**

```dart
void main() async {
  HydratedBloc.storage = await HydratedStorage.build(
    storageDirectory: await getApplicationSupportDirectory(),
  );

  // ...
}
```

**v8.0.0**

```dart
void main() {
  final storage = await HydratedStorage.build(
    storageDirectory: await getApplicationSupportDirectory(),
  );

  HydratedBlocOverrides.runZoned(
    () {
      // ...
    },
    storage: storage,
  );
}
```

Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ `HydratedBloc` Ø§Ø² `Storage` Ø¨Ø±Ø§ÛŒ zone ÙØ¹Ù„ÛŒ Ø§Ø² Ø·Ø±ÛŒÙ‚
`HydratedBlocOverrides.current` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ú©Ø±Ø¯.

Ø§ÛŒÙ† Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ù‡Ø± `Zone` Ù…Ø³ØªÙ‚Ù„ Ø¨Ø§ `BlocOverrides` Ø®ÙˆØ¯ Ø¹Ù…Ù„ Ú©Ù†Ø¯.

## v7.2.0

### `package:bloc`

#### âœ¨ Ù…Ø¹Ø±ÙÛŒ API Ø¬Ø¯ÛŒØ¯ `on<Event>`

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc v7.2.0ØŒ `mapEventToState` Ù…Ù†Ø³ÙˆØ® Ø´Ø¯ Ø¨Ù‡ Ù†ÙØ¹ `on<Event>`. `mapEventToState`
Ø¯Ø± bloc v8.0.0 Ø­Ø°Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.

:::

##### Ø¯Ù„ÛŒÙ„

API `on<Event>` Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´ÛŒ Ø§Ø²
[[Proposal] Replace mapEventToState with on\<Event\> in Bloc](https://github.com/felangel/bloc/issues/2526)
Ù…Ø¹Ø±ÙÛŒ Ø´Ø¯. Ø¨Ù‡ Ø¯Ù„ÛŒÙ„
[ÛŒÚ© Ù…Ø´Ú©Ù„ Ø¯Ø± Ø²Ø¨Ø§Ù† Ø¯Ø§Ø±Øª](https://github.com/dart-lang/sdk/issues/44616) Ù‡Ù…ÛŒØ´Ù‡ ÙˆØ§Ø¶Ø­
Ù†ÛŒØ³Øª Ú©Ù‡ Ù…Ù‚Ø¯Ø§Ø± `state` Ú†Ù‡ Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯ Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¨Ø§ async generators nested
(`async*`). Ø­ØªÛŒ Ø§Ú¯Ø± Ø±Ø§Ù‡â€ŒÙ‡Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ú©Ø±Ø¯Ù† Ø¨Ø§ Ù…Ø³Ø¦Ù„Ù‡ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ØŒ ÛŒÚ©ÛŒ Ø§Ø² Ø§ØµÙˆÙ„ Ø§ØµÙ„ÛŒ
Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ bloc Ù‚Ø§Ø¨Ù„ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø¨ÙˆØ¯Ù† Ø§Ø³Øª. API `on<Event>` Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯ ØªØ§ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ø±Ø§ ØªØ§
Ø­Ø¯ Ø§Ù…Ú©Ø§Ù† Ø§ÛŒÙ…Ù† Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ø¯ Ùˆ Ù‡Ø± Ø¹Ø¯Ù… Ù‚Ø·Ø¹ÛŒØªÛŒ Ø¯Ø± Ù…ÙˆØ±Ø¯ ØªØºÛŒÛŒØ±Ø§Øª Ø­Ø§Ù„Øª Ø±Ø§ Ø§Ø² Ø¨ÛŒÙ†
Ø¨Ø¨Ø±Ø¯.

:::tip

Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ±ØŒ
[Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ú©Ø§Ù…Ù„ Ø±Ø§ Ø¨Ø®ÙˆØ§Ù†ÛŒØ¯](https://github.com/felangel/bloc/issues/2526).

:::

**Ø®Ù„Ø§ØµÙ‡**

`on<E>` Ø¨Ù‡ Ø´Ù…Ø§ Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ ØªØ§ ÛŒÚ© Ù‡Ù†Ø¯Ù„Ø± Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ù†ÙˆØ¹ `E` Ø«Ø¨Øª
Ú©Ù†ÛŒØ¯. Ø¨Ù‡ Ø·ÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ØŒ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ù‡Ù†Ú¯Ø§Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `on<E>` Ø¨Ù‡ Ø·ÙˆØ± Ù‡Ù…Ø²Ù…Ø§Ù† Ù¾Ø±Ø¯Ø§Ø²Ø´
Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ Ø¯Ø± Ø­Ø§Ù„ÛŒ Ú©Ù‡ `mapEventToState` Ú©Ù‡ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª `Ø³Ø±ÛŒØ§Ù„ÛŒ` Ù¾Ø±Ø¯Ø§Ø²Ø´
Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

**v7.1.0**

```dart
abstract class CounterEvent {}
class Increment extends CounterEvent {}

class CounterBloc extends Bloc<CounterEvent, int> {
  CounterBloc() : super(0);

  @override
  Stream<int> mapEventToState(CounterEvent event) async* {
    if (event is Increment) {
      yield state + 1;
    }
  }
}
```

**v7.2.0**

```dart
abstract class CounterEvent {}
class Increment extends CounterEvent {}

class CounterBloc extends Bloc<CounterEvent, int> {
  CounterBloc() : super(0) {
    on<Increment>((event, emit) => emit(state + 1));
  }
}
```

:::note

Ù‡Ø± ØªØ§Ø¨Ø¹ Ø«Ø¨Øª Ø´Ø¯Ù‡ `EventHandler` Ø¨Ù‡ Ø·ÙˆØ± Ù…Ø³ØªÙ‚Ù„ Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ† Ù…Ù‡Ù… Ø§Ø³Øª Ú©Ù‡
Ù‡Ù†Ø¯Ù„Ø±Ù‡Ø§ÛŒ Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹ ØªØ±Ù†Ø³ÙÙˆØ±Ù…Ø±ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§Ø¹Ù…Ø§Ù„ Ø´ÙˆØ¯ Ø«Ø¨Øª Ú©Ù†ÛŒØ¯.

:::

Ø§Ú¯Ø± Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ù‡Ù…Ø§Ù† Ø±ÙØªØ§Ø± Ø¯Ù‚ÛŒÙ‚ Ø±Ø§ Ù…Ø§Ù†Ù†Ø¯ v7.1.0 Ø­ÙØ¸ Ú©Ù†ÛŒØ¯ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÛŒÚ© Ù‡Ù†Ø¯Ù„Ø± Ø±ÙˆÛŒØ¯Ø§Ø¯
ÙˆØ§Ø­Ø¯ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ø«Ø¨Øª Ú©Ù†ÛŒØ¯ Ùˆ ÛŒÚ© ØªØ±Ù†Ø³ÙÙˆØ±Ù…Ø± `Ø³Ø±ÛŒØ§Ù„ÛŒ` Ø§Ø¹Ù…Ø§Ù„ Ú©Ù†ÛŒØ¯:

```dart
import 'package:bloc/bloc.dart';
import 'package:bloc_concurrency/bloc_concurrency.dart';

class MyBloc extends Bloc<MyEvent, MyState> {
  MyBloc() : super(MyState()) {
    on<MyEvent>(_onEvent, transformer: sequential())
  }

  FutureOr<void> _onEvent(MyEvent event, Emitter<MyState> emit) async {
    // TODO: logic goes here...
  }
}
```

Ø´Ù…Ø§ Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ØªØ±Ù†Ø³ÙÙˆØ±Ù…Ø± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ `EventTransformer` Ø±Ø§ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… blocs Ø¯Ø±
Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø®ÙˆØ¯ override Ú©Ù†ÛŒØ¯:

```dart
import 'package:bloc/bloc.dart';
import 'package:bloc_concurrency/bloc_concurrency.dart';

void main() {
  Bloc.transformer = sequential<dynamic>();
  ...
}
```

#### âœ¨ Ù…Ø¹Ø±ÙÛŒ API Ø¬Ø¯ÛŒØ¯ `EventTransformer`

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc v7.2.0ØŒ `transformEvents` Ù…Ù†Ø³ÙˆØ® Ø´Ø¯ Ø¨Ù‡ Ù†ÙØ¹ API `EventTransformer`.
`transformEvents` Ø¯Ø± bloc v8.0.0 Ø­Ø°Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.

:::

##### Ø¯Ù„ÛŒÙ„

API `on<Event>` Ø§ÛŒÙ† Ø§Ù…Ú©Ø§Ù† Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ú©Ø±Ø¯ Ú©Ù‡ Ø¨ØªÙˆØ§Ù†ÛŒØ¯ ÛŒÚ© ØªØ±Ù†Ø³ÙÙˆØ±Ù…Ø± Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø³ÙØ§Ø±Ø´ÛŒ
Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù‡Ù†Ø¯Ù„Ø± Ø±ÙˆÛŒØ¯Ø§Ø¯ ÙØ±Ø§Ù‡Ù… Ú©Ù†ÛŒØ¯. ÛŒÚ© typedef Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ Ù†Ø§Ù… `EventTransformer` Ù…Ø¹Ø±ÙÛŒ
Ø´Ø¯ Ú©Ù‡ Ø¨Ù‡ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ø§ÛŒÙ† Ø§Ù…Ú©Ø§Ù† Ø±Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ú©Ù‡ Ø¬Ø±ÛŒØ§Ù† ÙˆØ±ÙˆØ¯ÛŒ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù‡Ø±
Ù‡Ù†Ø¯Ù„Ø± Ø±ÙˆÛŒØ¯Ø§Ø¯ ØªØºÛŒÛŒØ± Ø¯Ù‡Ù†Ø¯ Ø¨Ù‡ Ø¬Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ù…Ø¬Ø¨ÙˆØ± Ø¨Ø§Ø´Ù†Ø¯ ÛŒÚ© ØªØ±Ù†Ø³ÙÙˆØ±Ù…Ø± Ø±ÙˆÛŒØ¯Ø§Ø¯ ÙˆØ§Ø­Ø¯ Ø¨Ø±Ø§ÛŒ
ØªÙ…Ø§Ù… Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ù…Ø´Ø®Øµ Ú©Ù†Ù†Ø¯.

**Ø®Ù„Ø§ØµÙ‡**

ÛŒÚ© `EventTransformer` Ù…Ø³Ø¦ÙˆÙ„ Ø¯Ø±ÛŒØ§ÙØª Ø¬Ø±ÛŒØ§Ù† ÙˆØ±ÙˆØ¯ÛŒ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ ÛŒÚ©
`EventMapper` (Ù‡Ù†Ø¯Ù„Ø± Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø´Ù…Ø§) Ùˆ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† ÛŒÚ© Ø¬Ø±ÛŒØ§Ù† Ø¬Ø¯ÛŒØ¯ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ø§Ø³Øª.

```dart
typedef EventTransformer<Event> = Stream<Event> Function(Stream<Event> events, EventMapper<Event> mapper)
```

Ù¾ÛŒØ´â€ŒÙØ±Ø¶ `EventTransformer` ØªÙ…Ø§Ù… Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ø±Ø§ Ø¨Ù‡ Ø·ÙˆØ± Ù‡Ù…Ø²Ù…Ø§Ù† Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ú†ÛŒØ²ÛŒ
Ø´Ø¨ÛŒÙ‡ Ø¨Ù‡ Ø§ÛŒÙ† Ø¯Ø§Ø±Ø¯:

```dart
EventTransformer<E> concurrent<E>() {
  return (events, mapper) => events.flatMap(mapper);
}
```

:::tip

Ø¨Ø±Ø§ÛŒ Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ Ø§Ø² ØªØ±Ù†Ø³ÙÙˆØ±Ù…Ø±Ù‡Ø§ÛŒ Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø³ÙØ§Ø±Ø´ÛŒØŒ Ø¨Ù‡
[package:bloc_concurrency](https://pub.dev/packages/bloc_concurrency) Ù…Ø±Ø§Ø¬Ø¹Ù‡
Ú©Ù†ÛŒØ¯

:::

**v7.1.0**

```dart
@override
Stream<Transition<MyEvent, MyState>> transformEvents(events, transitionFn) {
  return events
    .debounceTime(const Duration(milliseconds: 300))
    .flatMap(transitionFn);
}
```

**v7.2.0**

```dart
/// ØªØ¹Ø±ÛŒÙ ÛŒÚ© `EventTransformer` Ø³ÙØ§Ø±Ø´ÛŒ
EventTransformer<MyEvent> debounce<MyEvent>(Duration duration) {
  return (events, mapper) => events.debounceTime(duration).flatMap(mapper);
}

MyBloc() : super(MyState()) {
  /// Ø§Ø¹Ù…Ø§Ù„ `EventTransformer` Ø³ÙØ§Ø±Ø´ÛŒ Ø¨Ø± Ø±ÙˆÛŒ `EventHandler`
  on<MyEvent>(_onEvent, transformer: debounce(const Duration(milliseconds: 300)))
}
```

#### âš ï¸ Ù…Ù†Ø³ÙˆØ® Ú©Ø±Ø¯Ù† API `transformTransitions`

:::note[Ú†Ù‡ Ú†ÛŒØ²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ØŸ]

Ø¯Ø± bloc v7.2.0ØŒ `transformTransitions` Ù…Ù†Ø³ÙˆØ® Ø´Ø¯ Ø¨Ù‡ Ù†ÙØ¹ override Ú©Ø±Ø¯Ù† API
`stream`. `transformTransitions` Ø¯Ø± bloc v8.0.0 Ø­Ø°Ù Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.

:::

##### Ø¯Ù„ÛŒÙ„

getter `stream` Ø¯Ø± `Bloc` Ø§ÛŒÙ† Ø§Ù…Ú©Ø§Ù† Ø±Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ú©Ù‡ Ø¬Ø±ÛŒØ§Ù† Ø®Ø±ÙˆØ¬ÛŒ Ø­Ø§Ù„Ø§Øª Ø±Ø§ Ø¨Ù‡ Ø±Ø§Ø­ØªÛŒ
override Ú©Ù†ÛŒØ¯ØŒ Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ† Ø¯ÛŒÚ¯Ø± Ø§Ø±Ø²Ø´Ù…Ù†Ø¯ Ù†ÛŒØ³Øª Ú©Ù‡ ÛŒÚ© API Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡
`transformTransitions` Ù†Ú¯Ù‡â€ŒØ¯Ø§Ø±ÛŒ Ø´ÙˆØ¯.

**Ø®Ù„Ø§ØµÙ‡**

**v7.1.0**

```dart
@override
Stream<Transition<Event, State>> transformTransitions(
  Stream<Transition<Event, State>> transitions,
) {
  return transitions.debounceTime(const Duration(milliseconds: 42));
}
```

**v7.2.0**

```dart
@override
Stream<State> get stream => super.stream.debounceTime(const Duration(milliseconds: 42));
```

## v7.0.0

### `package:bloc`

#### â— Bloc Ùˆ Cubit Ø§Ø² BlocBase Ø§Ø±Ø«â€ŒØ¨Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯

##### Ø¯Ù„ÛŒÙ„

Ø¨Ù‡â€ŒØ¹Ù†ÙˆØ§Ù† ÛŒÚ© ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ØŒ Ø±Ø§Ø¨Ø·Ù‡Ù” Ø¨ÛŒÙ† bloc Ù‡Ø§ Ùˆ cubit Ù‡Ø§ Ú©Ù…ÛŒ Ù†Ø§Ù…ØªØ¹Ø§Ø±Ù Ùˆ Ø¹Ø¬ÛŒØ¨ Ø¨ÙˆØ¯.
ÙˆÙ‚ØªÛŒ Cubit Ø¨Ø±Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ† Ø¨Ø§Ø± Ù…Ø¹Ø±ÙÛŒ Ø´Ø¯ØŒ Ø¨Ù‡â€ŒØ¹Ù†ÙˆØ§Ù† Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Bloc Ù‡Ø§ Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ‡
Ø´Ø¯ Ú©Ù‡ Ù…Ù†Ø·Ù‚ÛŒ Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³ÛŒØ¯ØŒ Ú†ÙˆÙ† Cubit ÙÙ‚Ø· Ø²ÛŒØ±Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ Ø§Ø² Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ Ø±Ø§ Ø¯Ø§Ø´Øª Ùˆ
Bloc Ù‡Ø§ ØµØ±ÙØ§Ù‹ Cubit Ø±Ø§ Ú¯Ø³ØªØ±Ø´ Ù…ÛŒâ€ŒØ¯Ø§Ø¯Ù†Ø¯ Ùˆ API Ù‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ Ø±Ø§ ØªØ¹Ø±ÛŒÙ Ù…ÛŒâ€ŒÚ©Ø±Ø¯Ù†Ø¯. Ø§Ù…Ø§ Ø§ÛŒÙ†
Ø±ÙˆÛŒÚ©Ø±Ø¯ Ú†Ù†Ø¯ Ø§ÛŒØ±Ø§Ø¯ Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ø¯Ø§Ø´Øª:

- ÛŒØ§ Ø¨Ø§ÛŒØ¯ ØªÙ…Ø§Ù… API Ù‡Ø§ ØªØºÛŒÛŒØ± Ù†Ø§Ù… Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´Ø¯Ù†Ø¯ ØªØ§ Ø§Ø² Ù†Ø¸Ø± Ù…ÙÙ‡ÙˆÙ…ÛŒ Ø¨Ø§ Cubit Ø³Ø§Ø²Ú¯Ø§Ø±
  Ø¨Ø§Ø´Ù†Ø¯ØŒ ÛŒØ§ Ø¨Ø±Ø§ÛŒ Ø­ÙØ¸ ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒØŒ Ù†Ø§Ù… Bloc Ø±ÙˆÛŒ Ø¢Ù†â€ŒÙ‡Ø§ Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯ØŒ Ø¨Ø§ Ø§ÛŒÙ†Ú©Ù‡ Ø§Ø² Ù†Ø¸Ø±
  Ø³Ø§Ø®ØªØ§Ø± Ø³Ù„Ø³Ù„Ù‡â€ŒÙ…Ø±Ø§ØªØ¨ÛŒ Ù†Ø§Ø¯Ø±Ø³Øª Ø¨ÙˆØ¯
  ([#1708](https://github.com/felangel/bloc/issues/1708),
  [#1560](https://github.com/felangel/bloc/issues/1560)).

- Cubit Ù…Ø¬Ø¨ÙˆØ± Ø¨ÙˆØ¯ Ø§Ø² Stream Ø§Ø±Ø«â€ŒØ¨Ø±ÛŒ Ú©Ù†Ø¯ Ùˆ EventSink Ø±Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù†Ø¯ ØªØ§ ÛŒÚ©
  Ù¾Ø§ÛŒÙ‡Ù” Ù…Ø´ØªØ±Ú© Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ… Ú©Ù‡ ÙˆÛŒØ¬Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ù…Ø«Ù„ BlocBuilderØŒ BlocListener Ùˆ ØºÛŒØ±Ù‡
  Ø¨ØªÙˆØ§Ù†Ù†Ø¯ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¢Ù† Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´ÙˆÙ†Ø¯
  ([#1429](https://github.com/felangel/bloc/issues/1429)).

Ø¨Ø¹Ø¯ØªØ±ØŒ Ù…Ø§ Ø±Ø§Ø¨Ø·Ù‡ Ø±Ø§ Ù…Ø¹Ú©ÙˆØ³ Ú©Ø±Ø¯ÛŒÙ… Ùˆ Bloc Ø±Ø§ Ø¨Ù‡â€ŒØ¹Ù†ÙˆØ§Ù† Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡ Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØªÛŒÙ… Ú©Ù‡ ØªØ§
Ø­Ø¯ÛŒ Ù…Ø´Ú©Ù„ Ù…ÙˆØ±Ø¯ Ø§ÙˆÙ„ Ø±Ø§ Ø­Ù„ Ú©Ø±Ø¯ØŒ Ø§Ù…Ø§ Ù…Ø³Ø§Ø¦Ù„ Ø¬Ø¯ÛŒØ¯ÛŒ Ø±Ø§ Ø¨Ù‡ ÙˆØ¬ÙˆØ¯ Ø¢ÙˆØ±Ø¯:

- API Ù‡Ø§ÛŒ Cubit Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ ÙˆØ¬ÙˆØ¯ API Ù‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Bloc Ù…Ø«Ù„ mapEventToStateØŒ add Ùˆ ØºÛŒØ±Ù‡
  Ø¨ÛŒØ´â€ŒØ§Ø²Ø­Ø¯ Ø­Ø¬ÛŒÙ… Ùˆ Ø´Ù„ÙˆØº Ø´Ø¯
  ([#2228](https://github.com/felangel/bloc/issues/2228))
  - Ø§Ø² Ù†Ø¸Ø± ÙÙ†ÛŒØŒ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø³ØªÙ†Ø¯ Ø§ÛŒÙ† API Ù‡Ø§ Ø±Ø§ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ú©Ù†Ù†Ø¯ Ùˆ Ø¨Ø§Ø¹Ø«
    Ø¨Ø±ÙˆØ² Ù…Ø´Ú©Ù„Ø§Øª Ù†Ø§Ø®ÙˆØ§Ø³ØªÙ‡ Ø´ÙˆÙ†Ø¯
- Ù‡Ù…Ú†Ù†Ø§Ù† Ù‡Ù…Ø§Ù† Ù…Ø´Ú©Ù„ Ù‚Ø¨Ù„ÛŒ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª Ùˆ Cubit Ú©Ù„ API Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Stream Ø±Ø§ Ø¯Ø± Ù…Ø¹Ø±Ø¶
  Ø¯Ø³ØªØ±Ø³ Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒØ¯Ø§Ø¯ ([#1429](https://github.com/felangel/bloc/issues/1429)).

Ø¨Ø±Ø§ÛŒ Ø­Ù„ Ø§ÛŒÙ† Ù…Ø´Ú©Ù„Ø§ØªØŒ Ù…Ø§ ÛŒÚ© Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡Ù” Ù…Ø´ØªØ±Ú© Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¯Ùˆ `Bloc` Ùˆ `Cubit` Ø¨Ø§ Ù†Ø§Ù…
`BlocBase` Ù…Ø¹Ø±ÙÛŒ Ú©Ø±Ø¯ÛŒÙ… ØªØ§ Ø§Ø¬Ø²Ø§ÛŒ Ø¨Ø§Ù„Ø§Ø¯Ø³ØªÛŒ Ù‡Ù…Ú†Ù†Ø§Ù† Ø¨ØªÙˆØ§Ù†Ù†Ø¯ Ø¨Ø§ Ù‡Ø± Ø¯Ùˆ Ù†Ù…ÙˆÙ†Ù‡Ù” bloc Ùˆ
cubit Ú©Ø§Ø± Ú©Ù†Ù†Ø¯ØŒ Ø§Ù…Ø§ Ø¨Ø¯ÙˆÙ† Ø§ÛŒÙ†Ú©Ù‡ Ú©Ù„ API Ù‡Ø§ÛŒ `Stream` Ùˆ `EventSink` Ø¨Ù‡â€ŒØµÙˆØ±Øª Ù…Ø³ØªÙ‚ÛŒÙ…
Ø¯Ø± Ù…Ø¹Ø±Ø¶ Ø¯Ø³ØªØ±Ø³ Ù‚Ø±Ø§Ø± Ø¨Ú¯ÛŒØ±Ù†Ø¯.

**Ø®Ù„Ø§ØµÙ‡**

**BlocObserver**

**v6.1.x**

```dart
class SimpleBlocObserver extends BlocObserver {
  @override
  void onCreate(Cubit cubit) {...}

  @override
  void onEvent(Bloc bloc, Object event) {...}

  @override
  void onChange(Cubit cubit, Object event) {...}

  @override
  void onTransition(Bloc bloc, Transition transition) {...}

  @override
  void onError(Cubit cubit, Object error, StackTrace stackTrace) {...}

  @override
  void onClose(Cubit cubit) {...}
}
```

**v7.0.0**

```dart
class SimpleBlocObserver extends BlocObserver {
  @override
  void onCreate(BlocBase bloc) {...}

  @override
  void onEvent(Bloc bloc, Object event) {...}

  @override
  void onChange(BlocBase bloc, Object? event) {...}

  @override
  void onTransition(Bloc bloc, Transition transition) {...}

  @override
  void onError(BlocBase bloc, Object error, StackTrace stackTrace) {...}

  @override
  void onClose(BlocBase bloc) {...}
}
```

**Bloc/Cubit**

**v6.1.x**

```dart
final bloc = MyBloc();
bloc.listen((state) {...});

final cubit = MyCubit();
cubit.listen((state) {...});
```

**v7.0.0**

```dart
final bloc = MyBloc();
bloc.stream.listen((state) {...});

final cubit = MyCubit();
cubit.stream.listen((state) {...});
```

### `package:bloc_test`

#### â—seed ÛŒÚ© ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ù…Ù‚Ø§Ø¯ÛŒØ± Ù¾ÙˆÛŒØ§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯

##### Ø¯Ù„ÛŒÙ„

Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ø¯Ø§Ø´ØªÙ† ÛŒÚ© Ù…Ù‚Ø¯Ø§Ø± seed Ù‚Ø§Ø¨Ù„ ØªØºÛŒÛŒØ± Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø·ÙˆØ± Ù¾ÙˆÛŒØ§ Ø¯Ø±
`setUp` Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´ÙˆØ¯ØŒ `seed` ÛŒÚ© ØªØ§Ø¨Ø¹ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯.

**Ø®Ù„Ø§ØµÙ‡**

**v7.x.x**

```dart
blocTest(
  '...',
  seed: MyState(),
  ...
);
```

**v8.0.0**

```dart
blocTest(
  '...',
  seed: () => MyState(),
  ...
);
```

#### â—expect ÛŒÚ© ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ù…Ù‚Ø§Ø¯ÛŒØ± Ù¾ÙˆÛŒØ§ Ùˆ Ø´Ø§Ù…Ù„ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² ØªØ·Ø¨ÛŒÙ‚ Ø¯Ù‡Ù†Ø¯Ù‡ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯

##### Ø¯Ù„ÛŒÙ„

Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ø¯Ø§Ø´ØªÙ† ÛŒÚ© Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ø§Ø¨Ù„ ØªØºÛŒÛŒØ± Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø·ÙˆØ± Ù¾ÙˆÛŒØ§ Ø¯Ø± `setUp`
Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´ÙˆØ¯ØŒ `expect` ÛŒÚ© ØªØ§Ø¨Ø¹ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯. `expect` Ù‡Ù…Ú†Ù†ÛŒÙ† Ø§Ø² `ØªØ·Ø¨ÛŒÙ‚ Ø¯Ù‡Ù†Ø¯Ù‡`
Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

**Ø®Ù„Ø§ØµÙ‡**

**v7.x.x**

```dart
blocTest(
  '...',
  expect: [MyStateA(), MyStateB()],
  ...
);
```

**v8.0.0**

```dart
blocTest(
  '...',
  expect: () => [MyStateA(), MyStateB()],
  ...
);

// Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ ÛŒÚ© `ØªØ·Ø¨ÛŒÙ‚ Ø¯Ù‡Ù†Ø¯Ù‡` Ø¨Ø§Ø´Ø¯
blocTest(
  '...',
  expect: () => contains(MyStateA()),
  ...
);
```

#### â—errors ÛŒÚ© ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ù…Ù‚Ø§Ø¯ÛŒØ± Ù¾ÙˆÛŒØ§ Ùˆ Ø´Ø§Ù…Ù„ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² ØªØ·Ø¨ÛŒÙ‚ Ø¯Ù‡Ù†Ø¯Ù‡ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯

##### Ø¯Ù„ÛŒÙ„

Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ø¯Ø§Ø´ØªÙ† Ø®Ø·Ø§Ù‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ ØªØºÛŒÛŒØ± Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø¨Ù‡ Ø·ÙˆØ± Ù¾ÙˆÛŒØ§ Ø¯Ø± `setUp`
Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´ÙˆÙ†Ø¯ØŒ `errors` ÛŒÚ© ØªØ§Ø¨Ø¹ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯. `errors` Ù‡Ù…Ú†Ù†ÛŒÙ† Ø§Ø² `ØªØ·Ø¨ÛŒÙ‚ Ø¯Ù‡Ù†Ø¯Ù‡`
Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

**Ø®Ù„Ø§ØµÙ‡**

**v7.x.x**

```dart
blocTest(
  '...',
  errors: [MyError()],
  ...
);
```

**v8.0.0**

```dart
blocTest(
  '...',
  errors: () => [MyError()],
  ...
);

// Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ ÛŒÚ© `ØªØ·Ø¨ÛŒÙ‚ Ø¯Ù‡Ù†Ø¯Ù‡` Ø¨Ø§Ø´Ø¯
blocTest(
  '...',
  errors: () => contains(MyError()),
  ...
);
```

#### â—MockBloc Ùˆ MockCubit

##### Ø¯Ù„ÛŒÙ„

Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ú©Ø±Ø¯Ù† APIÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ù‡Ø³ØªÙ‡ØŒ `MockBloc` Ùˆ `MockCubit` Ø¨Ù‡
Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´ÛŒ Ø§Ø² Ø¨Ø³ØªÙ‡ `bloc_test` Ø§Ø±Ø§Ø¦Ù‡ Ø´Ø¯Ù‡ Ø§Ù†Ø¯. Ù‚Ø¨Ù„Ø§Ù‹ØŒ `MockBloc` Ø¨Ø§ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¯Ùˆ
Ù†Ù…ÙˆÙ†Ù‡ `Bloc` Ùˆ `Cubit` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´Ø¯ Ú©Ù‡ Ø´Ù‡ÙˆØ¯ÛŒ Ù†Ø¨ÙˆØ¯.

**Ø®Ù„Ø§ØµÙ‡**

**v7.x.x**

```dart
class MockMyBloc extends MockBloc<MyState> implements MyBloc {}
class MockMyCubit extends MockBloc<MyState> implements MyBloc {}
```

**v8.0.0**

```dart
class MockMyBloc extends MockBloc<MyEvent, MyState> implements MyBloc {}
class MockMyCubit extends MockCubit<MyState> implements MyCubit {}
```

#### â—Ø§Ø¯ØºØ§Ù… Ø¨Ø§ Mocktail

##### Ø¯Ù„ÛŒÙ„

Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù null-safe
[package:mockito](https://pub.dev/packages/mockito) ØªÙˆØµÛŒÙ Ø´Ø¯Ù‡
[Ø§ÛŒÙ†Ø¬Ø§](https://github.com/dart-lang/mockito/blob/master/NULL_SAFETY_README.md#problems-with-typical-mocking-and-stubbing),
[package:mocktail](https://pub.dev/packages/mocktail) ØªÙˆØ³Ø· `MockBloc` Ùˆ
`MockCubit` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø§ÛŒÙ† Ø¨Ù‡ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ ØªØ§ Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡
Ù†ÙˆØ´ØªÙ† Ø¯Ø³ØªÛŒ stubs ÛŒØ§ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ø¨Ù‡ ØªÙˆÙ„ÛŒØ¯ Ú©Ø¯ØŒ Ø§Ø² ÛŒÚ© API mocking Ø¢Ø´Ù†Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ù†Ø¯.

**Ø®Ù„Ø§ØµÙ‡**

**v7.x.x**

```dart
import 'package:mockito/mockito.dart';

...

when(bloc.state).thenReturn(MyState());
verify(bloc.add(any)).called(1);
```

**v8.0.0**

```dart
import 'package:mocktail/mocktail.dart';

...

when(() => bloc.state).thenReturn(MyState());
verify(() => bloc.add(any())).called(1);
```

> Ù„Ø·ÙØ§Ù‹ Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ± Ø¨Ù‡
> [#347](https://github.com/dart-lang/mockito/issues/347) Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ†
> [Ù…Ø³ØªÙ†Ø¯Ø§Øª mocktail](https://github.com/felangel/mocktail/tree/main/packages/mocktail)
> Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.

### `package:flutter_bloc`

#### â— ØªØºÛŒÛŒØ± Ù†Ø§Ù… Ù¾Ø§Ø±Ø§Ù…ØªØ± `cubit` Ø¨Ù‡ `bloc`

##### Ø¯Ù„ÛŒÙ„

Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù†ØªÛŒØ¬Ù‡ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ Ø¯Ø± `package:bloc` Ø¨Ø±Ø§ÛŒ Ù…Ø¹Ø±ÙÛŒ `BlocBase` Ú©Ù‡ `Bloc` Ùˆ
`Cubit` Ø§Ø² Ø¢Ù† Ø§Ø±Ø«â€ŒØ¨Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ØŒ Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ `BlocBuilder`ØŒ `BlocConsumer` Ùˆ
`BlocListener` Ø§Ø² `cubit` Ø¨Ù‡ `bloc` ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÛŒØ§ÙØªÙ†Ø¯ Ø²ÛŒØ±Ø§ ÙˆÛŒØ¬Øªâ€ŒÙ‡Ø§ Ø¨Ø± Ø±ÙˆÛŒ Ù†ÙˆØ¹
`BlocBase` Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯. Ø§ÛŒÙ† Ù‡Ù…Ú†Ù†ÛŒÙ† Ø¨ÛŒØ´ØªØ± Ø¨Ø§ Ù†Ø§Ù… Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ
Ø§Ù…ÛŒØ¯ÙˆØ§Ø±ÛŒÙ… Ø®ÙˆØ§Ù†Ø§ÛŒÛŒ Ø±Ø§ Ø¨Ù‡Ø¨ÙˆØ¯ Ø¨Ø®Ø´Ø¯.

**Ø®Ù„Ø§ØµÙ‡**

**v6.1.x**

```dart
BlocBuilder(
  cubit: myBloc,
  ...
)

BlocListener(
  cubit: myBloc,
  ...
)

BlocConsumer(
  cubit: myBloc,
  ...
)
```

**v7.0.0**

```dart
BlocBuilder(
  bloc: myBloc,
  ...
)

BlocListener(
  bloc: myBloc,
  ...
)

BlocConsumer(
  bloc: myBloc,
  ...
)
```

### `package:hydrated_bloc`

#### â—storageDirectory Ù‡Ù†Ú¯Ø§Ù… ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ HydratedStorage.build Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª

##### Ø¯Ù„ÛŒÙ„

Ø¨Ù‡ Ù…Ù†Ø¸ÙˆØ± ØªØ¨Ø¯ÛŒÙ„ `package:hydrated_bloc` Ø¨Ù‡ ÛŒÚ© Ø¨Ø³ØªÙ‡ Ø®Ø§Ù„Øµ Ø²Ø¨Ø§Ù† Ø¯Ø§Ø±ØªØŒ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ø¨Ù‡
[package:path_provider](https://pub.dev/packages/path_provider) Ø­Ø°Ù Ø´Ø¯ Ùˆ Ù¾Ø§Ø±Ø§Ù…ØªØ±
`storageDirectory` Ù‡Ù†Ú¯Ø§Ù… ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ `HydratedStorage.build` Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª Ùˆ Ø¯ÛŒÚ¯Ø± Ø¨Ù‡
`getTemporaryDirectory` Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ù†ÛŒØ³Øª.

**Ø®Ù„Ø§ØµÙ‡**

**v6.x.x**

```dart
HydratedBloc.storage = await HydratedStorage.build();
```

**v7.0.0**

```dart
import 'package:path_provider/path_provider.dart';

...

HydratedBloc.storage = await HydratedStorage.build(
  storageDirectory: await getTemporaryDirectory(),
);
```

## v6.1.0

### `package:flutter_bloc`

#### â—context.bloc Ùˆ context.repository Ø¨Ù‡ Ù†ÙØ¹ context.read Ùˆ context.watch Ù…Ù†Ø³ÙˆØ® Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯

##### Ø¯Ù„ÛŒÙ„

`context.read`ØŒ `context.watch` Ùˆ `context.select` Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ø¨Ø§ API Ù…ÙˆØ¬ÙˆØ¯
[provider](https://pub.dev/packages/provider) Ú©Ù‡ Ø¨Ø³ÛŒØ§Ø±ÛŒ Ø§Ø² ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ø¨Ø§ Ø¢Ù†
Ø¢Ø´Ù†Ø§ Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ø¨Ø±Ø§ÛŒ Ø±ÙØ¹ Ù…Ø³Ø§Ø¦Ù„ÛŒ Ú©Ù‡ ØªÙˆØ³Ø· Ø¬Ø§Ù…Ø¹Ù‡ Ù…Ø·Ø±Ø­ Ø´Ø¯Ù‡ Ø¨ÙˆØ¯ØŒ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù†Ø¯. Ø¨Ù‡ Ù…Ù†Ø¸ÙˆØ±
Ø¨Ù‡Ø¨ÙˆØ¯ Ø§ÛŒÙ…Ù†ÛŒ Ú©Ø¯ Ùˆ Ø­ÙØ¸ Ø³Ø§Ø²Ú¯Ø§Ø±ÛŒØŒ `context.bloc` Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø§ÛŒÙ†Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ø§ ÛŒÚ©ÛŒ Ø§Ø²
`context.read` ÛŒØ§ `context.watch` Ø¨Ø³ØªÙ‡ Ø¨Ù‡ Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¯Ø±ÙˆÙ† `build`
Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ø´Ø¯.

**context.watch**

`context.watch` Ø¨Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø§Ø´ØªÙ† ÛŒÚ©
[MultiBlocBuilder](https://github.com/felangel/bloc/issues/538) Ù¾Ø§Ø³Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ø²ÛŒØ±Ø§
Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Ú†Ù†Ø¯ÛŒÙ† bloc Ø±Ø§ Ø¯Ø±ÙˆÙ† ÛŒÚ© `Builder` ÙˆØ§Ø­Ø¯ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒÙ… ØªØ§ UI Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³
Ú†Ù†Ø¯ÛŒÙ† Ø­Ø§Ù„Øª Ø±Ù†Ø¯Ø± Ú©Ù†ÛŒÙ…:

```dart
Builder(
  builder: (context) {
    final stateA = context.watch<BlocA>().state;
    final stateB = context.watch<BlocB>().state;
    final stateC = context.watch<BlocC>().state;

    // return a Widget which depends on the state of BlocA, BlocB, and BlocC
    //
    // it is encouraged to use `context.select` in this scenario to be more
    // selective about what parts of the state you want to rebuild on
  }
);
```

**context.select**

`context.select` Ø¨Ù‡ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ø§ÛŒÙ† Ø§Ù…Ú©Ø§Ù† Ø±Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ú©Ù‡ UI Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ ÛŒÚ© Ø¨Ø®Ø´ Ø§Ø²
Ø­Ø§Ù„Øª bloc Ø±Ù†Ø¯Ø±/Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ú©Ù†Ù†Ø¯ Ùˆ Ø¨Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø§Ø´ØªÙ† ÛŒÚ©
[simpler buildWhen](https://github.com/felangel/bloc/issues/1521) Ù¾Ø§Ø³Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.

```dart
final name = context.select((UserBloc bloc) => bloc.state.user.name);
```

Ù‚Ø·Ø¹Ù‡ Ú©Ø¯ Ø¨Ø§Ù„Ø§ Ø¨Ù‡ Ù…Ø§ Ø§ÛŒÙ† Ø§Ù…Ú©Ø§Ù† Ø±Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ú©Ù‡ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± ÙØ¹Ù„ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒÙ… Ùˆ ÙÙ‚Ø·
Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø± ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ ÙˆÛŒØ¬Øª Ø±Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨Ø³Ø§Ø²ÛŒÙ….

**context.read**

Ø§Ú¯Ø±Ú†Ù‡ Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³Ø¯ `context.read` Ø¨Ø§ `context.bloc` ÛŒÚ©Ø³Ø§Ù† Ø§Ø³ØªØŒ Ø§Ù…Ø§ ØªÙØ§ÙˆØªâ€ŒÙ‡Ø§ÛŒ
Ø¸Ø±ÛŒÙ Ø§Ù…Ø§ Ù‚Ø§Ø¨Ù„ ØªÙˆØ¬Ù‡ÛŒ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯. Ù‡Ø± Ø¯Ùˆ Ø¨Ù‡ Ø´Ù…Ø§ Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯ ØªØ§ Ø¨Ø§ ÛŒÚ©
`BuildContext` Ø¨Ù‡ ÛŒÚ© bloc Ø¯Ø³ØªØ±Ø³ÛŒ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒØ¯ Ùˆ Ù…Ù†Ø¬Ø± Ø¨Ù‡ rebuild Ù†Ø´ÙˆÙ†Ø¯Ø› Ø¨Ø§ Ø§ÛŒÙ† Ø­Ø§Ù„ØŒ
`context.read` Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¯Ø±ÙˆÙ† ÛŒÚ© Ù…ØªØ¯ `build` ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ø´ÙˆØ¯. Ø¯Ùˆ Ø¯Ù„ÛŒÙ„ Ø§ØµÙ„ÛŒ
Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `context.bloc` Ø¯Ø±ÙˆÙ† `build` ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯:

1. **Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø­Ø§Ù„Øª bloc**

```dart
@override
Widget build(BuildContext context) {
  final state = context.bloc<MyBloc>().state;
  return Text('$state');
}
```

Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú©Ø¯ Ø¨Ø§Ù„Ø§ Ø®Ø·Ø§Ø²Ø§ Ø§Ø³Øª Ø²ÛŒØ±Ø§ ÙˆÛŒØ¬Øª `Text` Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø³Ø§Ø®ØªÙ‡ Ù†Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯ Ø§Ú¯Ø± Ø­Ø§Ù„Øª
bloc ØªØºÛŒÛŒØ± Ú©Ù†Ø¯. Ø¯Ø± Ø§ÛŒÙ† Ø³Ù†Ø§Ø±ÛŒÙˆØŒ Ø¨Ø§ÛŒØ¯ Ø§Ø² `BlocBuilder` ÛŒØ§ `context.watch` Ø§Ø³ØªÙØ§Ø¯Ù‡
Ú©Ù†ÛŒØ¯.

```dart
@override
Widget build(BuildContext context) {
  final state = context.watch<MyBloc>().state;
  return Text('$state');
}
```

ÛŒØ§

```dart
@override
Widget build(BuildContext context) {
  return BlocBuilder<MyBloc, MyState>(
    builder: (context, state) => Text('$state'),
  );
}
```

:::note

Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `context.watch` Ø¯Ø± Ø±ÛŒØ´Ù‡ Ù…ØªØ¯ `build` Ù…Ù†Ø¬Ø± Ø¨Ù‡ Ø§ÛŒÙ† Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ú©Ù‡ Ú©Ù„ ÙˆÛŒØ¬Øª
Ù‡Ù†Ú¯Ø§Ù… ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª bloc Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø³Ø§Ø®ØªÙ‡ Ø´ÙˆØ¯. Ø§Ú¯Ø± Ú©Ù„ ÙˆÛŒØ¬Øª Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ Ù†Ø¯Ø§Ø±Ø¯ØŒ Ø§Ø²
`BlocBuilder` Ø¨Ø±Ø§ÛŒ Ø§Ø­Ø§Ø·Ù‡ Ú©Ø±Ø¯Ù† Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨Ø³Ø§Ø²Ù†Ø¯ØŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ØŒ Ø§Ø²
`Builder` Ø¨Ø§ `context.watch` Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒâ€ŒÙ‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ØŒ ÛŒØ§ ÙˆÛŒØ¬Øª Ø±Ø§
Ø¨Ù‡ ÙˆÛŒØ¬Øªâ€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú©ØªØ± ØªÙ‚Ø³ÛŒÙ… Ú©Ù†ÛŒØ¯.

:::

2. **Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ bloc Ø¨Ù‡ Ø·ÙˆØ±ÛŒ Ú©Ù‡ ÛŒÚ© Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø¨ØªÙˆØ§Ù†Ø¯ Ø§Ø¶Ø§ÙÙ‡ Ø´ÙˆØ¯**

```dart
@override
Widget build(BuildContext context) {
  final bloc = context.bloc<MyBloc>();
  return ElevatedButton(
    onPressed: () => bloc.add(MyEvent()),
    ...
  )
}
```

Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú©Ø¯ Ø¨Ø§Ù„Ø§ Ù†Ø§Ú©Ø§Ø±Ø¢Ù…Ø¯ Ø§Ø³Øª Ø²ÛŒØ±Ø§ Ù…Ù†Ø¬Ø± Ø¨Ù‡ Ø¬Ø³ØªØ¬ÙˆÛŒ bloc Ø¯Ø± Ù‡Ø± Ø¨Ø§Ø± Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ
Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ø¯Ø± Ø­Ø§Ù„ÛŒ Ú©Ù‡ bloc ÙÙ‚Ø· Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯Ú©Ù…Ù‡ `ElevatedButton` Ø±Ø§ ÙØ´Ø§Ø± Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ØŒ
Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø§Ø³Øª. Ø¯Ø± Ø§ÛŒÙ† Ø³Ù†Ø§Ø±ÛŒÙˆØŒ Ø¨Ù‡ØªØ± Ø§Ø³Øª Ø§Ø² `context.read` Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ bloc Ø¨Ù‡
Ø·ÙˆØ± Ù…Ø³ØªÙ‚ÛŒÙ… Ø¯Ø± Ø¬Ø§ÛŒÛŒ Ú©Ù‡ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø§Ø³Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ (Ø¯Ø± Ø§ÛŒÙ† Ù…ÙˆØ±Ø¯ØŒ Ø¯Ø± callback
`onPressed`).

```dart
@override
Widget build(BuildContext context) {
  return ElevatedButton(
    onPressed: () => context.read<MyBloc>().add(MyEvent()),
    ...
  )
}
```

**Ø®Ù„Ø§ØµÙ‡**

**v6.0.x**

```dart
@override
Widget build(BuildContext context) {
  final bloc = context.bloc<MyBloc>();
  return ElevatedButton(
    onPressed: () => bloc.add(MyEvent()),
    ...
  )
}
```

**v6.1.x**

```dart
@override
Widget build(BuildContext context) {
  return ElevatedButton(
    onPressed: () => context.read<MyBloc>().add(MyEvent()),
    ...
  )
}
```

Ø§Ú¯Ø± Ø¨Ù‡ ÛŒÚ© bloc Ø¨Ø±Ø§ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÛŒÚ© Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø¯Ø³ØªØ±Ø³ÛŒ Ù¾ÛŒØ¯Ø§ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ bloc Ø±Ø§
Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `context.read` Ø¯Ø± callback Ø¬Ø§ÛŒÛŒ Ú©Ù‡ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø§Ø³ØªØŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯.

**v6.0.x**

```dart
@override
Widget build(BuildContext context) {
  final state = context.bloc<MyBloc>().state;
  return Text('$state');
}
```

**v6.1.x**

```dart
@override
Widget build(BuildContext context) {
  final state = context.watch<MyBloc>().state;
  return Text('$state');
}
```

Ù‡Ù†Ú¯Ø§Ù… Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø­Ø§Ù„Øª bloc Ø§Ø² `context.watch` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ ØªØ§ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ø´ÙˆØ¯ Ú©Ù‡
ÙˆÛŒØ¬Øª Ù‡Ù†Ú¯Ø§Ù… ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

## v6.0.0

### `package:bloc`

#### â—Ù…ØªØ¯ BlocObserver.onErrorØŒ Cubit Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯

##### Ø¯Ù„ÛŒÙ„

Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø§Ø¯ØºØ§Ù… `Cubit`ØŒ `onError` Ø§Ú©Ù†ÙˆÙ† Ø¨ÛŒÙ† `Bloc` Ùˆ `Cubit` Ù…Ø´ØªØ±Ú© Ø§Ø³Øª. Ø§Ø² Ø¢Ù†Ø¬Ø§ÛŒÛŒ
Ú©Ù‡ `Cubit` Ù¾Ø§ÛŒÙ‡ Ø§Ø³ØªØŒ `BlocObserver` Ù†ÙˆØ¹ `Cubit` Ø±Ø§ Ø¨Ù‡ Ø¬Ø§ÛŒ Ù†ÙˆØ¹ `Bloc` Ø¯Ø± override
`onError` Ø®ÙˆØ§Ù‡Ø¯ Ù¾Ø°ÛŒØ±ÙØª.

**v5.x.x**

```dart
class MyBlocObserver extends BlocObserver {
  @override
  void onError(Bloc bloc, Object error, StackTrace stackTrace) {
    super.onError(bloc, error, stackTrace);
  }
}
```

**v6.0.0**

```dart
class MyBlocObserver extends BlocObserver {
  @override
  void onError(Cubit cubit, Object error, StackTrace stackTrace) {
    super.onError(cubit, error, stackTrace);
  }
}
```

#### â—Bloc Ù‡Ù†Ú¯Ø§Ù… Ø§Ø´ØªØ±Ø§Ú© (subscription) Ø¢Ø®Ø±ÛŒÙ† Ø­Ø§Ù„Øª Ø±Ø§ Ù…Ù†ØªØ´Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯

##### Ø¯Ù„ÛŒÙ„

Ø§ÛŒÙ† ØªØºÛŒÛŒØ± Ø¨Ù‡ Ù…Ù†Ø¸ÙˆØ± Ù‡Ù…Ø³Ø§Ù†â€ŒØ³Ø§Ø²ÛŒ `Bloc` Ùˆ `Cubit` Ø¨Ø§ Ø±ÙØªØ§Ø± Ø¯Ø§Ø®Ù„ÛŒ `Stream` Ø¯Ø±
`Ø²Ø¨Ø§Ù† Ø¯Ø§Ø±Øª` Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯. Ø¹Ù„Ø§ÙˆÙ‡ Ø¨Ø± Ø§ÛŒÙ†ØŒ ØªØ·Ø¨ÛŒÙ‚ Ø§ÛŒÙ† ØªØºÛŒÛŒØ± Ø¯Ø± Ø²Ù…ÛŒÙ†Ù‡ `Cubit` Ù…Ù†Ø¬Ø± Ø¨Ù‡
Ø¨Ø³ÛŒØ§Ø±ÛŒ Ø§Ø² Ø¹ÙˆØ§Ø±Ø¶ Ø¬Ø§Ù†Ø¨ÛŒ Ù†Ø§Ø®ÙˆØ§Ø³ØªÙ‡ Ùˆ Ø¨Ù‡ Ø·ÙˆØ± Ú©Ù„ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ø³Ø§ÛŒØ± Ø¨Ø³ØªÙ‡â€ŒÙ‡Ø§ Ù…Ø§Ù†Ù†Ø¯
`flutter_bloc` Ùˆ `bloc_test` Ø±Ø§ Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ± Ú©Ø±Ø¯ (Ù†ÛŒØ§Ø² Ø¨Ù‡ `skip(1)` Ùˆ ØºÛŒØ±Ù‡...).

**v5.x.x**

```dart
final bloc = MyBloc();
bloc.listen(print);
```

Ù‚Ø¨Ù„Ø§Ù‹ØŒ Ù‚Ø·Ø¹Ù‡ Ú©Ø¯ Ø¨Ø§Ù„Ø§ ÙˆØ¶Ø¹ÛŒØª Ø§ÙˆÙ„ÛŒÙ‡ bloc Ø±Ø§ Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ ØªØºÛŒÛŒØ±Ø§Øª Ø¨Ø¹Ø¯ÛŒ Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ Ú†Ø§Ù¾
Ù…ÛŒâ€ŒÚ©Ø±Ø¯.

**v6.x.x**

Ø¯Ø± v6.0.0ØŒ Ù‚Ø·Ø¹Ù‡ Ú©Ø¯ Ø¨Ø§Ù„Ø§ ÙˆØ¶Ø¹ÛŒØª Ø§ÙˆÙ„ÛŒÙ‡ Ø±Ø§ Ú†Ø§Ù¾ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ ÙÙ‚Ø· ØªØºÛŒÛŒØ±Ø§Øª Ø¨Ø¹Ø¯ÛŒ Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ Ø±Ø§
Ú†Ø§Ù¾ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø±ÙØªØ§Ø± Ù‚Ø¨Ù„ÛŒ Ø±Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ø§ Ú©Ø¯ Ø²ÛŒØ± Ø¨Ù‡ Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯:

```dart
final bloc = MyBloc();
print(bloc.state);
bloc.listen(print);
```

**ØªÙˆØ¬Ù‡**: Ø§ÛŒÙ† ØªØºÛŒÛŒØ± ÙÙ‚Ø· Ø¨Ø± Ø±ÙˆÛŒ Ú©Ø¯Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ù‡ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ… bloc ÙˆØ§Ø¨Ø³ØªÙ‡â€ŒØ§Ù†Ø¯
ØªØ£Ø«ÛŒØ± Ø®ÙˆØ§Ù‡Ø¯ Ú¯Ø°Ø§Ø´Øª. Ù‡Ù†Ú¯Ø§Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `BlocBuilder`ØŒ `BlocListener` ÛŒØ§
`BlocConsumer` ØªØºÛŒÛŒØ± Ù‚Ø§Ø¨Ù„ ØªÙˆØ¬Ù‡ÛŒ Ø¯Ø± Ø±ÙØªØ§Ø± ÙˆØ¬ÙˆØ¯ Ù†Ø®ÙˆØ§Ù‡Ø¯ Ø¯Ø§Ø´Øª.

### `package:bloc_test`

#### â—MockBloc ÙÙ‚Ø· Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù†ÙˆØ¹ State Ø¯Ø§Ø±Ø¯

##### Ø¯Ù„ÛŒÙ„

Ø§ÛŒÙ† ØºÛŒØ±Ø¶Ø±ÙˆØ±ÛŒ Ø§Ø³Øª Ùˆ Ú©Ø¯ Ø§Ø¶Ø§ÙÛŒ Ø±Ø§ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø¯Ø± Ø­Ø§Ù„ÛŒ Ú©Ù‡ Ù‡Ù…Ú†Ù†ÛŒÙ† `MockBloc` Ø±Ø§ Ø¨Ø§
`Cubit` Ø³Ø§Ø²Ú¯Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

**v5.x.x**

```dart
class MockCounterBloc extends MockBloc<CounterEvent, int> implements CounterBloc {}
```

**v6.0.0**

```dart
class MockCounterBloc extends MockBloc<int> implements CounterBloc {}
```

#### â—whenListen ÙÙ‚Ø· Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù†ÙˆØ¹ State Ø¯Ø§Ø±Ø¯

##### Ø¯Ù„ÛŒÙ„

Ø§ÛŒÙ† ØºÛŒØ±Ø¶Ø±ÙˆØ±ÛŒ Ø§Ø³Øª Ùˆ Ú©Ø¯ Ø§Ø¶Ø§ÙÛŒ Ø±Ø§ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø¯Ø± Ø­Ø§Ù„ÛŒ Ú©Ù‡ Ù‡Ù…Ú†Ù†ÛŒÙ† `whenListen` Ø±Ø§ Ø¨Ø§
`Cubit` Ø³Ø§Ø²Ú¯Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

**v5.x.x**

```dart
whenListen<CounterEvent,int>(bloc, Stream.fromIterable([0, 1, 2, 3]));
```

**v6.0.0**

```dart
whenListen<int>(bloc, Stream.fromIterable([0, 1, 2, 3]));
```

#### â—blocTest Ø¨Ù‡ Ù†ÙˆØ¹ Event Ù†ÛŒØ§Ø² Ù†Ø¯Ø§Ø±Ø¯

##### Ø¯Ù„ÛŒÙ„

Ø§ÛŒÙ† ØºÛŒØ±Ø¶Ø±ÙˆØ±ÛŒ Ø§Ø³Øª Ùˆ Ú©Ø¯ Ø§Ø¶Ø§ÙÛŒ Ø±Ø§ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø¯Ø± Ø­Ø§Ù„ÛŒ Ú©Ù‡ Ù‡Ù…Ú†Ù†ÛŒÙ† `blocTest` Ø±Ø§ Ø¨Ø§
`Cubit` Ø³Ø§Ø²Ú¯Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

**v5.x.x**

```dart
blocTest<CounterBloc, CounterEvent, int>(
  'emits [1] when increment is called',
  build: () async => CounterBloc(),
  act: (bloc) => bloc.add(CounterEvent.increment),
  expect: const <int>[1],
);
```

**v6.0.0**

```dart
blocTest<CounterBloc, int>(
  'emits [1] when increment is called',
  build: () => CounterBloc(),
  act: (bloc) => bloc.add(CounterEvent.increment),
  expect: const <int>[1],
);
```

#### â—blocTest skip Ø¨Ù‡ Ø·ÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ù‡ 0 ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡ Ø§Ø³Øª

##### Ø¯Ù„ÛŒÙ„

Ø§Ø² Ø¢Ù†Ø¬Ø§ÛŒÛŒ Ú©Ù‡ Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ `bloc` Ùˆ `cubit` Ø¯ÛŒÚ¯Ø± Ø¢Ø®Ø±ÛŒÙ† Ø­Ø§Ù„Øª Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒâ€ŒÙ‡Ø§ÛŒ
Ø¬Ø¯ÛŒØ¯ Ù…Ù†ØªØ´Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ØŒ Ø¯ÛŒÚ¯Ø± Ù„Ø§Ø²Ù… Ù†Ø¨ÙˆØ¯ Ú©Ù‡ `skip` Ø¨Ù‡ Ø·ÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ù‡ `1` ØªÙ†Ø¸ÛŒÙ… Ø´ÙˆØ¯.

**v5.x.x**

```dart
blocTest<CounterBloc, CounterEvent, int>(
  'emits [0] when skip is 0',
  build: () async => CounterBloc(),
  skip: 0,
  expect: const <int>[0],
);
```

**v6.0.0**

```dart
blocTest<CounterBloc, int>(
  'emits [] when skip is 0',
  build: () => CounterBloc(),
  skip: 0,
  expect: const <int>[],
);
```

ÙˆØ¶Ø¹ÛŒØª Ø§ÙˆÙ„ÛŒÙ‡ ÛŒÚ© bloc ÛŒØ§ cubit Ø±Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ø§ Ú©Ø¯ Ø²ÛŒØ± ØªØ³Øª Ú©Ø±Ø¯:

```dart
test('initial state is correct', () {
  expect(MyBloc().state, InitialState());
});
```

#### â—blocTest Ø³Ø§Ø®Øª Ø±Ø§ Ù‡Ù…Ø²Ù…Ø§Ù† Ù…ÛŒâ€ŒÚ©Ù†Ø¯

##### Ø¯Ù„ÛŒÙ„

Ù‚Ø¨Ù„Ø§Ù‹ØŒ `build` Ø¨Ù‡ ØµÙˆØ±Øª `async` ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡ Ø¨ÙˆØ¯ ØªØ§ Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„ÙÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯
ØªØ§ bloc ØªØ­Øª ØªØ³Øª Ø¯Ø± ÛŒÚ© Ø­Ø§Ù„Øª Ø®Ø§Øµ Ù‚Ø±Ø§Ø± Ú¯ÛŒØ±Ø¯. Ø¯ÛŒÚ¯Ø± Ù„Ø§Ø²Ù… Ù†ÛŒØ³Øª Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ† Ú†Ù†Ø¯ÛŒÙ† Ù…Ø´Ú©Ù„ Ø±Ø§
Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ ØªØ£Ø®ÛŒØ± Ø§Ø¶Ø§ÙÛŒ Ø¨ÛŒÙ† Ø³Ø§Ø®Øª Ùˆ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ø­Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø¨Ù‡ Ø¬Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù…
Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ async Ø¨Ø±Ø§ÛŒ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù† ÛŒÚ© bloc Ø¯Ø± Ø­Ø§Ù„Øª Ø¯Ù„Ø®ÙˆØ§Ù‡ØŒ Ø§Ú©Ù†ÙˆÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… ÙˆØ¶Ø¹ÛŒØª
bloc Ø±Ø§ Ø¨Ø§ Ø²Ù†Ø¬ÛŒØ±Ù‡â€ŒÚ©Ø±Ø¯Ù† `emit` Ø¨Ø§ ÙˆØ¶Ø¹ÛŒØª Ø¯Ù„Ø®ÙˆØ§Ù‡ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒÙ….

**v5.x.x**

```dart
blocTest<CounterBloc, CounterEvent, int>(
  'emits [2] when increment is added',
  build: () async {
    final bloc = CounterBloc();
    bloc.add(CounterEvent.increment);
    await bloc.take(2);
    return bloc;
  }
  act: (bloc) => bloc.add(CounterEvent.increment),
  expect: const <int>[2],
);
```

**v6.0.0**

```dart
blocTest<CounterBloc, int>(
  'emits [2] when increment is added',
  build: () => CounterBloc()..emit(1),
  act: (bloc) => bloc.add(CounterEvent.increment),
  expect: const <int>[2],
);
```

:::note

`emit` ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø³Øª Ùˆ Ù‡Ø±Ú¯Ø² Ù†Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ø®Ø§Ø±Ø¬ Ø§Ø² ØªØ³Øªâ€ŒÙ‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯.

:::

### `package:flutter_bloc`

#### â—BlocBuilder Ù¾Ø§Ø±Ø§Ù…ØªØ± bloc Ø¨Ù‡ cubit ØªØºÛŒÛŒØ± Ù†Ø§Ù… Ø¯Ø§Ø¯

##### Ø¯Ù„ÛŒÙ„

Ø¨Ù‡ Ù…Ù†Ø¸ÙˆØ± Ù‡Ù…Ø§Ù‡Ù†Ú¯â€ŒØ³Ø§Ø²ÛŒ `BlocBuilder` Ø¨Ø§ Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ `bloc` Ùˆ `cubit`ØŒ Ù¾Ø§Ø±Ø§Ù…ØªØ± `bloc`
Ø¨Ù‡ `cubit` ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÛŒØ§ÙØª (Ø²ÛŒØ±Ø§ `Cubit` Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡ Ø§Ø³Øª).

**v5.x.x**

```dart
BlocBuilder(
  bloc: myBloc,
  builder: (context, state) {...}
)
```

**v6.0.0**

```dart
BlocBuilder(
  cubit: myBloc,
  builder: (context, state) {...}
)
```

#### â—BlocListener Ù¾Ø§Ø±Ø§Ù…ØªØ± bloc Ø¨Ù‡ cubit ØªØºÛŒÛŒØ± Ù†Ø§Ù… Ø¯Ø§Ø¯

##### Ø¯Ù„ÛŒÙ„

Ø¨Ù‡ Ù…Ù†Ø¸ÙˆØ± Ù‡Ù…Ø§Ù‡Ù†Ú¯â€ŒØ³Ø§Ø²ÛŒ `BlocListener` Ø¨Ø§ Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ `bloc` Ùˆ `cubit`ØŒ Ù¾Ø§Ø±Ø§Ù…ØªØ±
`bloc` Ø¨Ù‡ `cubit` ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÛŒØ§ÙØª (Ø²ÛŒØ±Ø§ `Cubit` Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡ Ø§Ø³Øª).

**v5.x.x**

```dart
BlocListener(
  bloc: myBloc,
  listener: (context, state) {...}
)
```

**v6.0.0**

```dart
BlocListener(
  cubit: myBloc,
  listener: (context, state) {...}
)
```

#### â—BlocConsumer Ù¾Ø§Ø±Ø§Ù…ØªØ± bloc Ø¨Ù‡ cubit ØªØºÛŒÛŒØ± Ù†Ø§Ù… Ø¯Ø§Ø¯

##### Ø¯Ù„ÛŒÙ„

Ø¨Ù‡ Ù…Ù†Ø¸ÙˆØ± Ù‡Ù…Ø§Ù‡Ù†Ú¯â€ŒØ³Ø§Ø²ÛŒ `BlocConsumer` Ø¨Ø§ Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ `bloc` Ùˆ `cubit`ØŒ Ù¾Ø§Ø±Ø§Ù…ØªØ±
`bloc` Ø¨Ù‡ `cubit` ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÛŒØ§ÙØª (Ø²ÛŒØ±Ø§ `Cubit` Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡ Ø§Ø³Øª).

**v5.x.x**

```dart
BlocConsumer(
  bloc: myBloc,
  listener: (context, state) {...},
  builder: (context, state) {...}
)
```

**v6.0.0**

```dart
BlocConsumer(
  cubit: myBloc,
  listener: (context, state) {...},
  builder: (context, state) {...}
)
```

---

## v5.0.0

### `package:bloc`

#### â—initialState Ø­Ø°Ù Ø´Ø¯Ù‡ Ø§Ø³Øª

##### Ø¯Ù„ÛŒÙ„

Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ØŒ Ù…Ø¬Ø¨ÙˆØ± Ø¨ÙˆØ¯Ù† Ø¨Ù‡ override Ú©Ø±Ø¯Ù† `initialState` Ù‡Ù†Ú¯Ø§Ù… Ø§ÛŒØ¬Ø§Ø¯
ÛŒÚ© bloc Ø¯Ùˆ Ù…Ø´Ú©Ù„ Ø§ØµÙ„ÛŒ Ø¯Ø§Ø±Ø¯:

- `initialState` bloc Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ù¾ÙˆÛŒØ§ Ø¨Ø§Ø´Ø¯ Ùˆ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¯Ø± Ø²Ù…Ø§Ù† Ø¨Ø¹Ø¯ÛŒ (Ø­ØªÛŒ Ø®Ø§Ø±Ø¬ Ø§Ø²
  Ø®ÙˆØ¯ bloc) Ø¨Ù‡ Ø¢Ù† Ø§Ø±Ø¬Ø§Ø¹ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯. Ø§Ø² Ø¨Ø±Ø®ÛŒ Ø¬Ù‡Ø§ØªØŒ Ø§ÛŒÙ† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù†Ø´Øª
  Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø§Ø®Ù„ÛŒ bloc Ø¨Ù‡ Ù„Ø§ÛŒÙ‡ UI Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø´ÙˆØ¯.
- Ø§ÛŒÙ† Ø¨Ø³ÛŒØ§Ø± verbose Ø§Ø³Øª.

**v4.x.x**

```dart
class CounterBloc extends Bloc<CounterEvent, int> {
  @override
  int get initialState => 0;

  ...
}
```

**v5.0.0**

```dart
class CounterBloc extends Bloc<CounterEvent, int> {
  CounterBloc() : super(0);

  ...
}
```

Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ÛŒØ´ØªØ± Ø¨Ù‡ [#1304](https://github.com/felangel/bloc/issues/1304)
Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.

#### â—BlocDelegate Ø¨Ù‡ BlocObserver ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÛŒØ§ÙØª

##### Ø¯Ù„ÛŒÙ„

Ù†Ø§Ù… `BlocDelegate` ØªÙˆØµÛŒÙ Ø¯Ù‚ÛŒÙ‚ÛŒ Ø§Ø² Ù†Ù‚Ø´ÛŒ Ú©Ù‡ Ú©Ù„Ø§Ø³ Ø§ÛŒÙØ§ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ù†Ø¨ÙˆØ¯. `BlocDelegate`
Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ú©Ù‡ Ú©Ù„Ø§Ø³ Ù†Ù‚Ø´ ÙØ¹Ø§Ù„ÛŒ Ø§ÛŒÙØ§ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø¯Ø± Ø­Ø§Ù„ÛŒ Ú©Ù‡ Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù‡Ø¯Ù Ø§Ø²
`BlocDelegate` Ø§ÛŒÙ† Ø¨ÙˆØ¯ Ú©Ù‡ ÛŒÚ© Ù…Ø¤Ù„ÙÙ‡ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø¨Ø§Ø´Ø¯ Ú©Ù‡ Ø¨Ù‡ Ø³Ø§Ø¯Ú¯ÛŒ ØªÙ…Ø§Ù… blocs Ø¯Ø± ÛŒÚ©
Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

:::note

Ø¨Ù‡ Ø·ÙˆØ± Ø§ÛŒØ¯Ù‡â€ŒØ¢Ù„ØŒ Ø¨Ø§ÛŒØ¯ Ù‡ÛŒÚ† Ø¹Ù…Ù„Ú©Ø±Ø¯ ÛŒØ§ ÙˆÛŒÚ˜Ú¯ÛŒ Ú©Ø§Ø±Ø¨Ø±Ù¾Ø³Ù†Ø¯ Ø¯Ø± `BlocObserver` Ù…Ø¯ÛŒØ±ÛŒØª
Ù†Ø´ÙˆØ¯.

:::

**v4.x.x**

```dart
class MyBlocDelegate extends BlocDelegate {
  ...
}
```

**v5.0.0**

```dart
class MyBlocObserver extends BlocObserver {
  ...
}
```

#### â—BlocSupervisor Ø­Ø°Ù Ø´Ø¯Ù‡ Ø§Ø³Øª

##### Ø¯Ù„ÛŒÙ„

`BlocSupervisor` Ù‡Ù†ÙˆØ² ÛŒÚ© Ù…Ø¤Ù„ÙÙ‡ Ø¯ÛŒÚ¯Ø± Ø¨ÙˆØ¯ Ú©Ù‡ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ø¨Ø§ÛŒØ¯ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¢Ù†
Ù…ÛŒâ€ŒØ¯Ø§Ù†Ø³ØªÙ†Ø¯ Ùˆ Ø¨Ø§ Ø¢Ù† ØªØ¹Ø§Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ø±Ø¯Ù†Ø¯ ÙÙ‚Ø· Ø¨Ù‡ Ù…Ù†Ø¸ÙˆØ± Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù† ÛŒÚ© `BlocDelegate`
Ø³ÙØ§Ø±Ø´ÛŒ. Ø¨Ø§ ØªØºÛŒÛŒØ± Ø¨Ù‡ `BlocObserver`ØŒ Ø§Ø­Ø³Ø§Ø³ Ú©Ø±Ø¯ÛŒÙ… Ú©Ù‡ ØªØ¬Ø±Ø¨Ù‡ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ Ø±Ø§ Ø¨Ù‡Ø¨ÙˆØ¯
Ù…ÛŒâ€ŒØ¨Ø®Ø´Ø¯ ØªØ§ Ù†Ø§Ø¸Ø± Ø±Ø§ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¨Ø± Ø±ÙˆÛŒ bloc Ø®ÙˆØ¯ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯.

Ø§ÛŒÙ† ØªØºÛŒÛŒØ± Ù‡Ù…Ú†Ù†ÛŒÙ† Ø¨Ù‡ Ù…Ø§ Ø§ÛŒÙ† Ø§Ù…Ú©Ø§Ù† Ø±Ø§ Ø¯Ø§Ø¯ Ú©Ù‡ Ø³Ø§ÛŒØ± Ø§ÙØ²ÙˆØ¯Ù†ÛŒâ€ŒÙ‡Ø§ÛŒ bloc Ù…Ø§Ù†Ù†Ø¯
`HydratedStorage` Ø±Ø§ Ø§Ø² `BlocObserver` Ø¬Ø¯Ø§ Ú©Ù†ÛŒÙ….

**v4.x.x**

```dart
BlocSupervisor.delegate = MyBlocDelegate();
```

**v5.0.0**

```dart
Bloc.observer = MyBlocObserver();
```

### `package:flutter_bloc`

#### â—BlocBuilder Ø´Ø±Ø· Ø¨Ù‡ buildWhen ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÛŒØ§ÙØª

##### Ø¯Ù„ÛŒÙ„

Ù‡Ù†Ú¯Ø§Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `BlocBuilder`ØŒ Ù‚Ø¨Ù„Ø§Ù‹ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø³ØªÛŒÙ… ÛŒÚ© `Ø´Ø±Ø·` Ù…Ø´Ø®Øµ Ú©Ù†ÛŒÙ… ØªØ§ ØªØ¹ÛŒÛŒÙ†
Ú©Ù†ÛŒÙ… Ø¢ÛŒØ§ `Ø³Ø§Ø²Ù†Ø¯Ù‡` Ø¨Ø§ÛŒØ¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨Ø³Ø§Ø²Ø¯ ÛŒØ§ Ø®ÛŒØ±.

```dart
BlocBuilder<MyBloc, MyState>(
  condition: (previous, current) {
    // return true/false to determine whether to call builder
  },
  builder: (context, state) {...}
)
```

Ù†Ø§Ù… `Ø´Ø±Ø·` ØªÙˆØµÛŒÙ Ú†Ù†Ø¯Ø§Ù†ÛŒ Ù†Ø¯Ø§Ø±Ø¯ Ùˆ Ø¨Ù‡ Ø·ÙˆØ± Ø®Ø§ØµØŒ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ø¨Ø§ `BlocConsumer` ØªØ¹Ø§Ù…Ù„
Ø¯Ø§Ø±Ø¯ØŒ API Ø±Ø§ Ù†Ø§Ø³Ø§Ø²Ú¯Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø²ÛŒØ±Ø§ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø¯Ùˆ Ø´Ø±Ø· (ÛŒÚ©ÛŒ Ø¨Ø±Ø§ÛŒ
`Ø³Ø§Ø²Ù†Ø¯Ù‡` Ùˆ ÛŒÚ©ÛŒ Ø¨Ø±Ø§ÛŒ `Ø´Ù†ÙˆÙ†Ø¯Ù‡`) ÙØ±Ø§Ù‡Ù… Ú©Ù†Ù†Ø¯. Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù†ØªÛŒØ¬Ù‡ØŒ API `BlocConsumer` ÛŒÚ©
`buildWhen` Ùˆ `listenWhen` Ø±Ø§ Ø¯Ø± Ù…Ø¹Ø±Ø¶ Ø¯ÛŒØ¯ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯

```dart
BlocConsumer<MyBloc, MyState>(
  listenWhen: (previous, current) {
    // return true/false to determine whether to call listener
  },
  listener: (context, state) {...},
  buildWhen: (previous, current) {
    // return true/false to determine whether to call builder
  },
  builder: (context, state) {...},
)
```

Ø¨Ù‡ Ù…Ù†Ø¸ÙˆØ± Ù‡Ù…Ø³Ø§Ù†â€ŒØ³Ø§Ø²ÛŒ API Ùˆ Ø§Ø±Ø§Ø¦Ù‡ ÛŒÚ© ØªØ¬Ø±Ø¨Ù‡ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ Ø³Ø§Ø²Ú¯Ø§Ø±ØªØ±ØŒ `Ø´Ø±Ø·` Ø¨Ù‡
`buildWhen` ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÛŒØ§ÙØª.

**v4.x.x**

```dart
BlocBuilder<MyBloc, MyState>(
  condition: (previous, current) {
    // return true/false to determine whether to call builder
  },
  builder: (context, state) {...}
)
```

**v5.0.0**

```dart
BlocBuilder<MyBloc, MyState>(
  buildWhen: (previous, current) {
    // return true/false to determine whether to call builder
  },
  builder: (context, state) {...}
)
```

#### â—BlocListener Ø´Ø±Ø· Ø¨Ù‡ listenWhen ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÛŒØ§ÙØª

##### Ø¯Ù„ÛŒÙ„

Ø¨Ù‡ Ù‡Ù…Ø§Ù† Ø¯Ù„Ø§ÛŒÙ„ÛŒ Ú©Ù‡ Ø¯Ø± Ø¨Ø§Ù„Ø§ ØªÙˆØ¶ÛŒØ­ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯ØŒ Ø´Ø±Ø· `BlocListener` Ù†ÛŒØ² ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÛŒØ§ÙØª.

**v4.x.x**

```dart
BlocListener<MyBloc, MyState>(
  condition: (previous, current) {
    // return true/false to determine whether to call listener
  },
  listener: (context, state) {...}
)
```

**v5.0.0**

```dart
BlocListener<MyBloc, MyState>(
  listenWhen: (previous, current) {
    // return true/false to determine whether to call listener
  },
  listener: (context, state) {...}
)
```

### `package:hydrated_bloc`

#### â—HydratedStorage Ùˆ HydratedBlocStorage ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÛŒØ§ÙØªÙ†Ø¯

##### Ø¯Ù„ÛŒÙ„

Ø¨Ù‡ Ù…Ù†Ø¸ÙˆØ± Ø¨Ù‡Ø¨ÙˆØ¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…Ø¬Ø¯Ø¯ Ø§Ø² Ú©Ø¯ Ø¨ÛŒÙ†
[hydrated_bloc](https://pub.dev/packages/hydrated_bloc) Ùˆ
[hydrated_cubit](https://pub.dev/packages/hydrated_cubit)ØŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù¾ÛŒØ´â€ŒÙØ±Ø¶
Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÛŒØ§ÙØª Ø§Ø² `HydratedBlocStorage` Ø¨Ù‡ `HydratedStorage`. Ø¹Ù„Ø§ÙˆÙ‡
Ø¨Ø± Ø§ÛŒÙ†ØŒ Ø±Ø§Ø¨Ø· `HydratedStorage` Ø§Ø² `HydratedStorage` Ø¨Ù‡ `Storage` ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÛŒØ§ÙØª.

**v4.0.0**

```dart
class MyHydratedStorage implements HydratedStorage {
  ...
}
```

**v5.0.0**

```dart
class MyHydratedStorage implements Storage {
  ...
}
```

#### â—HydratedStorage Ø§Ø² BlocDelegate Ø¬Ø¯Ø§ Ø´Ø¯

##### Ø¯Ù„ÛŒÙ„

Ù‡Ù…Ø§Ù†Ø·ÙˆØ± Ú©Ù‡ Ù‚Ø¨Ù„Ø§Ù‹ Ø°Ú©Ø± Ø´Ø¯ØŒ `BlocDelegate` Ø¨Ù‡ `BlocObserver` ØªØºÛŒÛŒØ± Ù†Ø§Ù… ÛŒØ§ÙØª Ùˆ
Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¨Ø± Ø±ÙˆÛŒ `bloc` ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯:

```dart
Bloc.observer = MyBlocObserver();
```

ØªØºÛŒÛŒØ± Ø²ÛŒØ± Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯ ØªØ§:

- Ø¨Ø§ API Ù†Ø§Ø¸Ø± Ø¬Ø¯ÛŒØ¯ bloc Ø³Ø§Ø²Ú¯Ø§Ø± Ø¨Ø§Ø´Ø¯
- Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø±Ø§ ÙÙ‚Ø· Ø¨Ù‡ `HydratedBloc` Ù…Ø­Ø¯ÙˆØ¯ Ú©Ù†Ø¯
- `BlocObserver` Ø±Ø§ Ø§Ø² `Storage` Ø¬Ø¯Ø§ Ú©Ù†Ø¯

**v4.0.0**

```dart
BlocSupervisor.delegate = await HydratedBlocDelegate.build();
```

**v5.0.0**

```dart
HydratedBloc.storage = await HydratedStorage.build();
```

#### â—Ø³Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ

##### Ø¯Ù„ÛŒÙ„

Ù‚Ø¨Ù„Ø§Ù‹ØŒ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù† Ù…Ø¬Ø¨ÙˆØ± Ø¨ÙˆØ¯Ù†Ø¯ Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø³ØªÛŒ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ú©Ù†Ù†Ø¯
`super.initialState ?? DefaultInitialState()` Ø¨Ù‡ Ù…Ù†Ø¸ÙˆØ± Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ
`HydratedBloc` Ø®ÙˆØ¯. Ø§ÛŒÙ† Ú©Ø§Ø± Ø¯Ø³Øª Ùˆ Ù¾Ø§Ú¯ÛŒØ± Ùˆ verbose Ø¨ÙˆØ¯ Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ† Ø¨Ø§ ØªØºÛŒÛŒØ±Ø§Øª Ø´Ú©Ø³ØªÙ†
Ø¯Ø± `initialState` Ø¯Ø± `bloc` Ù†Ø§Ø³Ø§Ø²Ú¯Ø§Ø± Ø¨ÙˆØ¯. Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù†ØªÛŒØ¬Ù‡ØŒ Ø¯Ø± v5.0.0 Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ
`HydratedBloc` Ú©Ø§Ù…Ù„Ø§Ù‹ Ù…Ø´Ø§Ø¨Ù‡ Ø¨Ø§ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø¹Ø§Ø¯ÛŒ `Bloc` Ø§Ø³Øª.

**v4.0.0**

```dart
class CounterBloc extends HydratedBloc<CounterEvent, int> {
  @override
  int get initialState => super.initialState ?? 0;
}
```

**v5.0.0**

```dart
class CounterBloc extends HydratedBloc<CounterEvent, int> {
  CounterBloc() : super(0);

  ...
}
```
