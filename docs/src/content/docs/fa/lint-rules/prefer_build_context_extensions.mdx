---
title: اکستنشن‌های BuildContext را ترجیح دهید
description: قانون prefer_build_context_extensions.
---

import { Badge } from '@astrojs/starlight/components';
import EnableRuleSnippet from '~/components/lint-rules/EnableRuleSnippet.astro';
import BadSnippet from '~/components/lint-rules/prefer_build_context_extensions/BadSnippet.mdx';
import GoodSnippet from '~/components/lint-rules/prefer_build_context_extensions/GoodSnippet.astro';

<div class="badges">
	<Badge text="new" />
	<Badge text="dart" variant="note" />
</div>

ترجیح دهید از اکستنشن‌های `BuildContext` برای دسترسی به یک نمونهٔ `Bloc` یا
`Repository` استفاده کنید.

:::note

این قانون lint در نسخهٔ `0.3.2` از
[`package:bloc_lint`](https://pub.dev/packages/bloc_lint) معرفی شده است.

:::

## دلیل

برای حفظ یکپارچگی، ترجیح دهید از اکستنشن‌های `BuildContext` مانند
`context.read`، `context.watch` و `context.select` به‌جای `BlocProvider.of`،
`RepositoryProvider.of`، `BlocBuilder` یا `BlocSelector` استفاده کنید.

| روش صریح                                                            | اکستنشن               |
| ------------------------------------------------------------------- | --------------------- |
| `BlocProvider.of<Bloc>(context, listen: false)`                     | `context.read<Bloc>`  |
| `BlocBuilder<Bloc, State>(...)` یا `BlocProvider.of<Bloc>(context)` | `context.watch<Bloc>` |
| `BlocSelector<Bloc, State>(...)`                                    | `context.select`      |

## مثال‌ها

**اجتناب کنید** از استفاده از `BlocProvider.of<T>(context)` برای دسترسی به یک
نمونهٔ `Bloc`

**بد**:

<BadSnippet />

**خوب**:

<GoodSnippet />

## فعال‌سازی

برای فعال کردن قانون `prefer_build_context_extensions`، آن را به فایل
`analysis_options.yaml` خود تحت `bloc` > `rules` اضافه کنید:

<EnableRuleSnippet name="prefer_build_context_extensions" />
