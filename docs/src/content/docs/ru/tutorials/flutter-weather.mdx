---
title: –ü–æ–≥–æ–¥–∞ Flutter
description:
  –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã Flutter —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
  bloc.
sidebar:
  order: 5
---

import RemoteCode from '~/components/code/RemoteCode.astro';
import FlutterCreateSnippet from '~/components/tutorials/flutter-weather/FlutterCreateSnippet.astro';
import FeatureTreeSnippet from '~/components/tutorials/flutter-weather/FeatureTreeSnippet.astro';
import FlutterCreateApiClientSnippet from '~/components/tutorials/flutter-weather/FlutterCreateApiClientSnippet.astro';
import OpenMeteoModelsTreeSnippet from '~/components/tutorials/flutter-weather/OpenMeteoModelsTreeSnippet.astro';
import LocationJsonSnippet from '~/components/tutorials/flutter-weather/LocationJsonSnippet.astro';
import LocationDartSnippet from '~/components/tutorials/flutter-weather/LocationDartSnippet.astro';
import WeatherJsonSnippet from '~/components/tutorials/flutter-weather/WeatherJsonSnippet.astro';
import WeatherDartSnippet from '~/components/tutorials/flutter-weather/WeatherDartSnippet.astro';
import OpenMeteoModelsBarrelTreeSnippet from '~/components/tutorials/flutter-weather/OpenMeteoModelsBarrelTreeSnippet.astro';
import OpenMeteoLibrarySnippet from '~/components/tutorials/flutter-weather/OpenMeteoLibrarySnippet.astro';
import BuildRunnerBuildSnippet from '~/components/tutorials/flutter-weather/BuildRunnerBuildSnippet.astro';
import OpenMeteoApiClientTreeSnippet from '~/components/tutorials/flutter-weather/OpenMeteoApiClientTreeSnippet.astro';
import LocationSearchMethodSnippet from '~/components/tutorials/flutter-weather/LocationSearchMethodSnippet.astro';
import GetWeatherMethodSnippet from '~/components/tutorials/flutter-weather/GetWeatherMethodSnippet.astro';
import FlutterTestCoverageSnippet from '~/components/tutorials/flutter-weather/FlutterTestCoverageSnippet.astro';
import FlutterCreateRepositorySnippet from '~/components/tutorials/flutter-weather/FlutterCreateRepositorySnippet.astro';
import RepositoryModelsBarrelTreeSnippet from '~/components/tutorials/flutter-weather/RepositoryModelsBarrelTreeSnippet.astro';
import WeatherRepositoryLibrarySnippet from '~/components/tutorials/flutter-weather/WeatherRepositoryLibrarySnippet.astro';
import WeatherCubitTreeSnippet from '~/components/tutorials/flutter-weather/WeatherCubitTreeSnippet.astro';
import WeatherBarrelDartSnippet from '~/components/tutorials/flutter-weather/WeatherBarrelDartSnippet.astro';

![advanced](https://img.shields.io/badge/level-advanced-red.svg)

–í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –º—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã –Ω–∞ Flutter, –∫–æ—Ç–æ—Ä–æ–µ
–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ cubits –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ
–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ pull-to-refresh –∏ –º–Ω–æ–≥–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ. –ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
–ø–æ–≥–æ–¥—ã –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–æ–¥–µ –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ API OpenMeteo –∏
–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏ (–¥–∞–Ω–Ω—ã–µ, repository,
–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ).

![demo](~/assets/tutorials/flutter-weather.gif)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø—Ä–æ–µ–∫—Ç—É

–ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø–æ–∑–≤–æ–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

- –ò—Å–∫–∞—Ç—å –≥–æ—Ä–æ–¥ –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ–∏—Å–∫–∞
- –í–∏–¥–µ—Ç—å –ø—Ä–∏—è—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö
  [Open Meteo API](https://open-meteo.com)
- –ò–∑–º–µ–Ω—è—Ç—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –µ–¥–∏–Ω–∏—Ü—ã (–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ç–∏–≤ –∏–º–ø–µ—Ä—Å–∫–∏—Ö)

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ,

- –¢–µ–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –æ—Ç—Ä–∞–∂–∞—Ç—å –ø–æ–≥–æ–¥—É –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –º–µ–∂–¥—É —Å–µ–∞–Ω—Å–∞–º–∏: —Ç.–µ. –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ
  –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å —Å–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è (–∏—Å–ø–æ–ª—å–∑—É—è
  [HydratedBloc](https://github.com/felangel/bloc/tree/master/packages/hydrated_bloc))

## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

- –ù–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å –ø–æ–º–æ—â—å—é
  [BlocObserver](/ru/bloc-concepts#blocobserver).
- [BlocProvider](/ru/flutter-bloc-concepts#blocprovider), –≤–∏–¥–∂–µ—Ç Flutter –∫–æ—Ç–æ—Ä—ã–π
  –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç bloc —Å–≤–æ–∏–º –¥–æ—á–µ—Ä–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º.
- [BlocBuilder](/ru/flutter-bloc-concepts#blocbuilder), –≤–∏–¥–∂–µ—Ç Flutter –∫–æ—Ç–æ—Ä—ã–π
  –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞ –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –Ω–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö –ø–µ—Ä–µ—Å—Ç—Ä–æ–µ–∫ —Å –ø–æ–º–æ—â—å—é
  [Equatable](/ru/faqs/#–∫–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-equatable).
- [RepositoryProvider](/ru/flutter-bloc-concepts#repositoryprovider), –≤–∏–¥–∂–µ—Ç
  Flutter –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç repository —Å–≤–æ–∏–º –¥–æ—á–µ—Ä–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º.
- [BlocListener](/ru/flutter-bloc-concepts#bloclistener), –≤–∏–¥–∂–µ—Ç Flutter –∫–æ—Ç–æ—Ä—ã–π
  –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–¥ —Å–ª—É—à–∞—Ç–µ–ª—è –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ bloc.
- [MultiBlocProvider](/ru/flutter-bloc-concepts#multiblocprovider), –≤–∏–¥–∂–µ—Ç
  Flutter, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∏–¥–∂–µ—Ç–æ–≤ BlocProvider –≤ –æ–¥–∏–Ω
- [BlocConsumer](/ru/flutter-bloc-concepts#blocconsumer), –≤–∏–¥–∂–µ—Ç Flutter,
  –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç builder –∏ listener –¥–ª—è —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –Ω–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- [HydratedBloc](https://github.com/felangel/bloc/tree/master/packages/hydrated_bloc)
  –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–î–ª—è –Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π flutter –ø—Ä–æ–µ–∫—Ç

<FlutterCreateSnippet />

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö
–∫–∞—Ç–∞–ª–æ–≥–∞—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –º–µ—Ä–µ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
—Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.

–ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å –Ω–∞ —á–µ—Ç—ã—Ä–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: **search, settings,
theme, weather**. –°–æ–∑–¥–∞–¥–∏–º —ç—Ç–∏ –∫–∞—Ç–∞–ª–æ–≥–∏.

<FeatureTreeSnippet />

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–ª–µ–¥—É—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞–º [–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã bloc](/ru/architecture), –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç
—Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–ª–æ–µ–≤.

–í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –≤–æ—Ç —á—Ç–æ –±—É–¥—É—Ç –¥–µ–ª–∞—Ç—å —ç—Ç–∏ —Å–ª–æ–∏:

- **Data**: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–≥–æ–¥–µ –∏–∑ API
- **Repository**: –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ—è –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
  –¥–ª—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- **Business Logic**: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ
  –µ–¥–∏–Ω–∏—Ü–∞—Ö, –¥–µ—Ç–∞–ª–∏ –≥–æ—Ä–æ–¥–∞, —Ç–µ–º—ã –∏ —Ç.–¥.)
- **Presentation**: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–≥–æ–¥–µ –∏ —Å–±–æ—Ä –≤–≤–æ–¥–∞ –æ—Ç
  –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫, —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞ –∏ —Ç.–¥.)

## –°–ª–æ–π –¥–∞–Ω–Ω—ã—Ö

–î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º—ã –±—É–¥–µ–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫
[Open Meteo API](https://open-meteo.com).

–ú—ã —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è –Ω–∞ –¥–≤—É—Ö –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–∫–∞—Ö:

- `https://geocoding-api.open-meteo.com/v1/search?name=$city&count=1` –¥–ª—è
  –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞
- `https://api.open-meteo.com/v1/forecast?latitude=$latitude&longitude=$longitude&current_weather=true`
  –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ
[https://geocoding-api.open-meteo.com/v1/search?name=chicago&count=1](https://geocoding-api.open-meteo.com/v1/search?name=chicago&count=1)
–≤ —Å–≤–æ–µ–º –±—Ä–∞—É–∑–µ—Ä–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ—Ç–≤–µ—Ç –¥–ª—è –≥–æ—Ä–æ–¥–∞ –ß–∏–∫–∞–≥–æ. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
`latitude` –∏ `longitude` –≤ –æ—Ç–≤–µ—Ç–µ –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–µ –ø–æ–≥–æ–¥—ã.

`latitude`/`longitude` –¥–ª—è –ß–∏–∫–∞–≥–æ —Ä–∞–≤–Ω—ã `41.85003`/`-87.65005`. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫
[https://api.open-meteo.com/v1/forecast?latitude=43.0389&longitude=-87.90647&current_weather=true](https://api.open-meteo.com/v1/forecast?latitude=43.0389&longitude=-87.90647&current_weather=true)
–≤ —Å–≤–æ–µ–º –±—Ä–∞—É–∑–µ—Ä–µ, –∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –¥–ª—è –ø–æ–≥–æ–¥—ã –≤ –ß–∏–∫–∞–≥–æ, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ
–¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### OpenMeteo API Client

OpenMeteo API Client –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º
–µ–≥–æ –∫–∞–∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–∞–∫–µ—Ç (–∏ –¥–∞–∂–µ –º–æ–∂–µ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –µ–≥–æ –Ω–∞
[pub.dev](https://pub.dev)). –ó–∞—Ç–µ–º –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç, –¥–æ–±–∞–≤–∏–≤ –µ–≥–æ –≤
`pubspec.yaml` –¥–ª—è —Å–ª–æ—è repository, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –¥–∞–Ω–Ω—ã—Ö
–¥–ª—è –Ω–∞—à–µ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã.

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–∞—Ç–∞–ª–æ–≥ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `packages`. –≠—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥
–±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –Ω–∞—à–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–∞–∫–µ—Ç—ã.

–í —ç—Ç–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É `flutter create` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
–Ω–æ–≤–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `open_meteo_api` –¥–ª—è –Ω–∞—à–µ–≥–æ API client.

<FlutterCreateApiClientSnippet />

### Weather Data Model

–î–∞–ª–µ–µ, —Å–æ–∑–¥–∞–¥–∏–º `location.dart` –∏ `weather.dart`, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–æ–¥–µ–ª–∏
–¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫ API `location` –∏ `weather`.

<OpenMeteoModelsTreeSnippet />

#### Location Model

–ú–æ–¥–µ–ª—å `location.dart` –¥–æ–ª–∂–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ API –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è,
–∫–æ—Ç–æ—Ä—ã–µ –≤—ã–≥–ª—è–¥—è—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

<LocationJsonSnippet />

–í–æ—Ç –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π —Ñ–∞–π–ª `location.dart`, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç:

<LocationDartSnippet />

#### Weather Model

–î–∞–ª–µ–µ, –ø–æ—Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ `weather.dart`. –ù–∞—à–∞ –º–æ–¥–µ–ª—å –ø–æ–≥–æ–¥—ã –¥–æ–ª–∂–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ,
–≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ API –ø–æ–≥–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–≥–ª—è–¥—è—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

<WeatherJsonSnippet />

–í–æ—Ç –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π —Ñ–∞–π–ª `weather.dart`, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç:

<WeatherDartSnippet />

### Barrel Files

–ü–æ–∫–∞ –º—ã –∑–¥–µ—Å—å, –±—ã—Å—Ç—Ä–æ —Å–æ–∑–¥–∞–¥–∏–º
[barrel —Ñ–∞–π–ª](https://adrianfaciu.dev/posts/barrel-files/) –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö
–∏–∑ –Ω–∞—à–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º.

–°–æ–∑–¥–∞–π—Ç–µ barrel —Ñ–∞–π–ª `models.dart` –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–≤–µ –º–æ–¥–µ–ª–∏:

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/open_meteo_api/lib/src/models/models.dart"
	title="packages/open_meteo_api/lib/src/models/models.dart"
/>

–¢–∞–∫–∂–µ —Å–æ–∑–¥–∞–¥–∏–º barrel —Ñ–∞–π–ª –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–∞–∫–µ—Ç–∞, `open_meteo_api.dart`

<OpenMeteoModelsBarrelTreeSnippet />

–í –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ, `open_meteo_api.dart` —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥–µ–ª–∏:

<OpenMeteoLibrarySnippet />

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–ù–∞–º –Ω—É–∂–Ω–æ –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å
[—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å](https://en.wikipedia.org/wiki/Serialization)
–Ω–∞—à–∏ –º–æ–¥–µ–ª–∏, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–∞–Ω–Ω—ã–º–∏ API. –î–ª—è —ç—Ç–æ–≥–æ –º—ã –¥–æ–±–∞–≤–∏–º –º–µ—Ç–æ–¥—ã `toJson`
–∏ `fromJson` –≤ –Ω–∞—à–∏ –º–æ–¥–µ–ª–∏.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ, –Ω–∞–º –Ω—É–∂–µ–Ω —Å–ø–æ—Å–æ–±
[–¥–µ–ª–∞—Ç—å HTTP —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods)
–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ API. –ö —Å—á–∞—Å—Ç—å—é, –µ—Å—Ç—å —Ä—è–¥ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è —ç—Ç–æ–≥–æ.

–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç—ã
[json_annotation](https://pub.dev/packages/json_annotation),
[json_serializable](https://pub.dev/packages/json_serializable) –∏
[build_runner](https://pub.dev/packages/build_runner) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π
`toJson` –∏ `fromJson` –¥–ª—è –Ω–∞—Å.

–ù–∞ –±–æ–ª–µ–µ –ø–æ–∑–¥–Ω–µ–º —ç—Ç–∞–ø–µ –º—ã —Ç–∞–∫–∂–µ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç
[http](https://pub.dev/packages/http) –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
–ø–æ–≥–æ–¥—ã, —á—Ç–æ–±—ã –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–≥–ª–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–æ–¥–µ.

–î–æ–±–∞–≤–∏–º —ç—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `pubspec.yaml`.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/open_meteo_api/pubspec.yaml"
	title="packages/open_meteo_api/pubspec.yaml"
/>

:::note

–ù–µ –∑–∞–±—É–¥—å—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å `flutter pub get` –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

:::

### (–î–µ)–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

–ß—Ç–æ–±—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ —Ä–∞–±–æ—Ç–∞–ª–∞, –Ω–∞–º –Ω—É–∂–Ω–æ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—è
—Å–ª–µ–¥—É—é—â–µ–µ:

- `@JsonSerializable` –¥–ª—è –ø–æ–º–µ—Ç–∫–∏ –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- `@JsonKey` –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏–º–µ–Ω –ø–æ–ª–µ–π
- `@JsonValue` –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ–ª–µ–π
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `JSONConverter` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –≤ JSON
  –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω–∞–º —Ç–∞–∫–∂–µ –Ω—É–∂–Ω–æ:

- –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `json_annotation`
- –í–∫–ª—é—á–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—è –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ
  [part](https://dart.dev/tools/pub/create-packages#organizing-a-package)
- –í–∫–ª—é—á–∏—Ç—å –º–µ—Ç–æ–¥—ã `fromJson` –¥–ª—è –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏

#### Location Model

–í–æ—Ç –Ω–∞—à –ø–æ–ª–Ω—ã–π —Ñ–∞–π–ª –º–æ–¥–µ–ª–∏ `location.dart`:

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/open_meteo_api/lib/src/models/location.dart"
	title="packages/open_meteo_api/lib/src/models/location.dart"
/>

#### Weather Model

–í–æ—Ç –Ω–∞—à –ø–æ–ª–Ω—ã–π —Ñ–∞–π–ª –º–æ–¥–µ–ª–∏ `weather.dart`:

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/open_meteo_api/lib/src/models/weather.dart"
	title="packages/open_meteo_api/lib/src/models/weather.dart"
/>

#### Create Build File

–í –ø–∞–ø–∫–µ `open_meteo_api` —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `build.yaml`. –¶–µ–ª—å —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ -
–æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π –º–µ–∂–¥—É —Å–æ–≥–ª–∞—à–µ–Ω–∏—è–º–∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –≤ –∏–º–µ–Ω–∞—Ö –ø–æ–ª–µ–π
`json_serializable`.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/open_meteo_api/build.yaml"
	title="packages/open_meteo_api/build.yaml"
/>

#### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞

–ò—Å–ø–æ–ª—å–∑—É–µ–º `build_runner` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞.

<BuildRunnerBuildSnippet />

`build_runner` –¥–æ–ª–∂–µ–Ω —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã `location.g.dart` –∏ `weather.g.dart`.

### OpenMeteo API Client

–°–æ–∑–¥–∞–¥–∏–º –Ω–∞—à API client –≤ `open_meteo_api_client.dart` –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `src`.
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

<OpenMeteoApiClientTreeSnippet />

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç [http](https://pub.dev/packages/http),
–∫–æ—Ç–æ—Ä—ã–π –º—ã –¥–æ–±–∞–≤–∏–ª–∏ —Ä–∞–Ω–µ–µ –≤ —Ñ–∞–π–ª `pubspec.yaml`, —á—Ç–æ–±—ã –¥–µ–ª–∞—Ç—å HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ API
–ø–æ–≥–æ–¥—ã –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

–ù–∞—à API client –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –¥–≤–∞ –º–µ—Ç–æ–¥–∞:

- `locationSearch`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Future<Location>`
- `getWeather`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Future<Weather>`

#### Location Search

–ú–µ—Ç–æ–¥ `locationSearch` –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ API –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
`LocationRequestFailure` –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏. –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

<LocationSearchMethodSnippet />

#### Get Weather

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –º–µ—Ç–æ–¥ `getWeather` –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ API –ø–æ–≥–æ–¥—ã –∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
`WeatherRequestFailure` –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏. –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

<GetWeatherMethodSnippet />

–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/open_meteo_api/lib/src/open_meteo_api_client.dart"
	title="packages/open_meteo_api/lib/src/open_meteo_api_client.dart"
/>

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è Barrel File

–ó–∞–≤–µ—Ä—à–∏–º —ç—Ç–æ—Ç –ø–∞–∫–µ—Ç, –¥–æ–±–∞–≤–∏–≤ –Ω–∞—à API client –≤ barrel —Ñ–∞–π–ª.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/open_meteo_api/lib/open_meteo_api.dart"
	title="packages/open_meteo_api/lib/open_meteo_api.dart"
/>

### Unit Tests

–û—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è —Å–ª–æ—è –¥–∞–Ω–Ω—ã—Ö, –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ –Ω–∞—à–µ–≥–æ
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. Unit —Ç–µ—Å—Ç—ã –¥–∞–¥—É—Ç –Ω–∞–º —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, —á—Ç–æ –ø–∞–∫–µ—Ç –≤–µ–¥–µ—Ç —Å–µ–±—è, –∫–∞–∫
–æ–∂–∏–¥–∞–µ—Ç—Å—è.

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–†–∞–Ω–µ–µ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –ø–∞–∫–µ—Ç [test](https://pub.dev/packages/test) –≤ –Ω–∞—à
pubspec.yaml, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã.

–ú—ã —Å–æ–∑–¥–∞–¥–∏–º —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –¥–ª—è api client, –∞ —Ç–∞–∫–∂–µ –¥–ª—è –¥–≤—É—Ö –º–æ–¥–µ–ª–µ–π.

#### Location Tests

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/open_meteo_api/test/location_test.dart"
	title="packages/open_meteo_api/test/location_test.dart"
/>

#### Weather Tests

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/open_meteo_api/test/weather_test.dart"
	title="packages/open_meteo_api/test/weather_test.dart"
/>

#### API Client Tests

–î–∞–ª–µ–µ, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –Ω–∞—à API client. –ú—ã –¥–æ–ª–∂–Ω—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–∞—à API client
–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±–∞ –≤—ã–∑–æ–≤–∞ API –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤–∫–ª—é—á–∞—è –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏.

:::note

–ú—ã –Ω–µ —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –Ω–∞—à–∏ —Ç–µ—Å—Ç—ã –¥–µ–ª–∞–ª–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã API, –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–∞—à–∞ —Ü–µ–ª—å -
–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É API client (–≤–∫–ª—é—á–∞—è –≤—Å–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏), –∞ –Ω–µ —Å–∞–º API.
–ß—Ç–æ–±—ã –∏–º–µ—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—É—é, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—É—é —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ä–µ–¥—É, –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
[mocktail](https://github.com/felangel/mocktail) (–∫–æ—Ç–æ—Ä—ã–π –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –≤ —Ñ–∞–π–ª
pubspec.yaml —Ä–∞–Ω–µ–µ) –¥–ª—è –º–æ–∫–∞ http client.

:::

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/open_meteo_api/test/open_meteo_api_client_test.dart"
	title="packages/open_meteo_api/test/open_meteo_api_client_test.dart"
/>

#### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

–ù–∞–∫–æ–Ω–µ—Ü, —Å–æ–±–µ—Ä–µ–º –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º—ã –ø–æ–∫—Ä—ã–ª–∏ –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É
–∫–æ–¥–∞ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∏–º —Ç–µ—Å—Ç–æ–≤—ã–º —Å–ª—É—á–∞–µ–º.

<FlutterTestCoverageSnippet />

## –°–ª–æ–π Repository

–¶–µ–ª—å –Ω–∞—à–µ–≥–æ —Å–ª–æ—è repository - –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à —Å–ª–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±–ª–µ–≥—á–∏—Ç—å
–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é —Å–æ —Å–ª–æ–µ–º bloc. –î–µ–ª–∞—è —ç—Ç–æ, –æ—Å—Ç–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å –Ω–∞—à–µ–π –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã
–∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç —Ñ—É–Ω–∫—Ü–∏–π, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã—Ö –Ω–∞—à–∏–º —Å–ª–æ–µ–º repository, –≤–º–µ—Å—Ç–æ
–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –∏–∑–º–µ–Ω—è—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
–¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ –∫–æ–¥–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã
—Ä–µ—à–∏–º –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç —ç—Ç–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ API –ø–æ–≥–æ–¥—ã, –º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏
—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π API client –∏ –∑–∞–º–µ–Ω–∏—Ç—å –µ–≥–æ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤
–ø—É–±–ª–∏—á–Ω—ã–π API —Å–ª–æ–µ–≤ repository –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–í–Ω—É—Ç—Ä–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ packages –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

<FlutterCreateRepositorySnippet />

–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ –∂–µ –ø–∞–∫–µ—Ç—ã, —á—Ç–æ –∏ –≤ –ø–∞–∫–µ—Ç–µ `open_meteo_api`, –≤–∫–ª—é—á–∞—è
–ø–∞–∫–µ—Ç `open_meteo_api` –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —à–∞–≥–∞. –û–±–Ω–æ–≤–∏—Ç–µ —Å–≤–æ–π `pubspec.yaml` –∏
–∑–∞–ø—É—Å—Ç–∏—Ç–µ `flutter pub get`.

:::note

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `path` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è `open_meteo_api`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç
–Ω–∞–º —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –µ–≥–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –≤–Ω–µ—à–Ω–∏–π –ø–∞–∫–µ—Ç –∏–∑ `pub.dev`.

:::

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/weather_repository/pubspec.yaml"
	title="packages/weather_repository/pubspec.yaml"
/>

### Weather Repository Models

–ú—ã —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π —Ñ–∞–π–ª `weather.dart` –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –ø–æ–≥–æ–¥—ã.
–≠—Ç–∞ –º–æ–¥–µ–ª—å –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ –Ω–∞—à–∏–º –±–∏–∑–Ω–µ—Å-—Å–ª—É—á–∞—è–º --
–¥—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç API client –∏ —Ñ–æ—Ä–º–∞—Ç–∞
–Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ö–∞–∫ –æ–±—ã—á–Ω–æ, –º—ã —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞–¥–∏–º barrel —Ñ–∞–π–ª `models.dart`.

<RepositoryModelsBarrelTreeSnippet />

–ù–∞ —ç—Ç–æ—Ç —Ä–∞–∑ –Ω–∞—à–∞ –º–æ–¥–µ–ª—å –ø–æ–≥–æ–¥—ã –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–π—Å—Ç–≤–∞
`location, temperature, condition`. –ú—ã —Ç–∞–∫–∂–µ –ø—Ä–æ–¥–æ–ª–∂–∏–º –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à –∫–æ–¥,
—á—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/weather_repository/lib/src/models/weather.dart"
	title="packages/weather_repository/lib/src/models/weather.dart"
/>

–û–±–Ω–æ–≤–∏—Ç–µ barrel —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Å–æ–∑–¥–∞–ª–∏ —Ä–∞–Ω–µ–µ, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –º–æ–¥–µ–ª–∏.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/weather_repository/lib/src/models/models.dart"
	title="packages/weather_repository/lib/src/models/models.dart"
/>

#### Create Build File

–ö–∞–∫ –∏ —Ä–∞–Ω—å—à–µ, –Ω–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `build.yaml` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/weather_repository/build.yaml"
	title="packages/weather_repository/build.yaml"
/>

#### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞

–ö–∞–∫ –º—ã –¥–µ–ª–∞–ª–∏ —Ä–∞–Ω–µ–µ, –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
(–¥–µ)—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

<BuildRunnerBuildSnippet />

#### Barrel File

–¢–∞–∫–∂–µ —Å–æ–∑–¥–∞–¥–∏–º barrel —Ñ–∞–π–ª –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–∞–∫–µ—Ç–∞ —Å –∏–º–µ–Ω–µ–º
`packages/weather_repository/lib/weather_repository.dart` –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –Ω–∞—à–∏—Ö
–º–æ–¥–µ–ª–µ–π:

<WeatherRepositoryLibrarySnippet />

### Weather Repository

–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å `WeatherRepository` - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç
–ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–∞–Ω–Ω—ã—Ö. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ `WeatherRepository` –±—É–¥–µ—Ç –∏–º–µ—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç
`WeatherApiClient` –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –æ–¥–∏–Ω –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥,
`getWeather(String city)`.

:::note

–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ `WeatherRepository` –Ω–µ –∑–Ω–∞—é—Ç –æ –¥–µ—Ç–∞–π–ª—è—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Ç–æ—Ç
—Ñ–∞–∫—Ç, —á—Ç–æ –¥–≤–∞ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫ API –ø–æ–≥–æ–¥—ã. –¶–µ–ª—å
`WeatherRepository` - –æ—Ç–¥–µ–ª–∏—Ç—å "—á—Ç–æ" –æ—Ç "–∫–∞–∫" -- –¥—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –º—ã —Ö–æ—Ç–∏–º –∏–º–µ—Ç—å
—Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∏—Ç—å –ø–æ–≥–æ–¥—É –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞, –Ω–æ –Ω–µ –∑–∞–±–æ—Ç–∏–º—Å—è –æ —Ç–æ–º, –∫–∞–∫ –∏–ª–∏ –æ—Ç–∫—É–¥–∞
—ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç.

:::

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª `weather_repository.dart` –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `src` –Ω–∞—à–µ–≥–æ –ø–∞–∫–µ—Ç–∞ –∏
–ø–æ—Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π repository.

–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –º—ã —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è, —ç—Ç–æ `getWeather(String city)`. –ú—ã
–º–æ–∂–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –µ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É—è –¥–≤–∞ –≤—ã–∑–æ–≤–∞ API client —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/weather_repository/lib/src/weather_repository.dart"
	title="packages/weather_repository/lib/src/weather_repository.dart"
/>

#### Barrel File

–û–±–Ω–æ–≤–∏—Ç–µ barrel —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Å–æ–∑–¥–∞–ª–∏ —Ä–∞–Ω–µ–µ.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/weather_repository/lib/weather_repository.dart"
	title="packages/weather_repository/lib/weather_repository.dart"
/>

### Unit Tests

–¢–∞–∫ –∂–µ, –∫–∞–∫ –∏ —Å–æ —Å–ª–æ–µ–º –¥–∞–Ω–Ω—ã—Ö, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–π repository,
—á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ª–æ–≥–∏–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –¥–æ–º–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞. –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—à–µ–≥–æ
`WeatherRepository` –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É
[mocktail](https://github.com/felangel/mocktail). –ú—ã –∑–∞–º–æ–∫–∞–µ–º –±–∞–∑–æ–≤—ã–π api
client, —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É `WeatherRepository` –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π,
–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–π —Å—Ä–µ–¥–µ.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/packages/weather_repository/test/weather_repository_test.dart"
	title="packages/weather_repository/test/weather_repository_test.dart"
/>

## –°–ª–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

–í —Å–ª–æ–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–º–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –ø–æ–≥–æ–¥—ã –∏–∑
`WeatherRepository` –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç
–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á–µ—Ä–µ–∑ UI.

:::note

–≠—Ç–æ —Ç—Ä–µ—Ç—å—è —Ä–∞–∑–ª–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–≥–æ–¥—ã, –∫–æ—Ç–æ—Ä—É—é –º—ã —Ä–µ–∞–ª–∏–∑—É–µ–º. –í API client –Ω–∞—à–∞
–º–æ–¥–µ–ª—å –ø–æ–≥–æ–¥—ã —Å–æ–¥–µ—Ä–∂–∞–ª–∞ –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—É—é API. –í —Å–ª–æ–µ repository –Ω–∞—à–∞
–º–æ–¥–µ–ª—å –ø–æ–≥–æ–¥—ã —Å–æ–¥–µ—Ä–∂–∞–ª–∞ —Ç–æ–ª—å–∫–æ –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—à–µ–≥–æ
–±–∏–∑–Ω–µ—Å-—Å–ª—É—á–∞—è. –ù–∞ —ç—Ç–æ–º —Å–ª–æ–µ –Ω–∞—à–∞ –º–æ–¥–µ–ª—å –ø–æ–≥–æ–¥—ã –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é
–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –Ω–∞–±–æ—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–π.

:::

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–ü–æ—Å–∫–æ–ª—å–∫—É –Ω–∞—à —Å–ª–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –Ω–∞—à–µ–º –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –Ω–∞–º
–Ω—É–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `pubspec.yaml` –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ `flutter_weather` –∏
–≤–∫–ª—é—á–∏—Ç—å –≤—Å–µ –ø–∞–∫–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ [equatable](https://pub.dev/packages/equatable) –ø–æ–∑–≤–æ–ª—è–µ—Ç
  —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º –∫–ª–∞—Å—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å—Å—è —Å –ø–æ–º–æ—â—å—é
  –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ equals `==`. –ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º bloc –±—É–¥–µ—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –Ω–∞—à–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è, —á—Ç–æ–±—ã
  —É–≤–∏–¥–µ—Ç—å, —Ä–∞–≤–Ω—ã –ª–∏ –æ–Ω–∏, –∏ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ —Ä–∞–≤–Ω—ã, —ç—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –ø–µ—Ä–µ—Å—Ç—Ä–æ–µ–Ω–∏–µ. –≠—Ç–æ
  –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –Ω–∞—à–µ –¥–µ—Ä–µ–≤–æ –≤–∏–¥–∂–µ—Ç–æ–≤ –±—É–¥–µ—Ç –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —ç—Ç–æ
  –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ–π –∏ –æ—Ç–∑—ã–≤—á–∏–≤–æ–π.
- –ú—ã –º–æ–∂–µ–º –ø—Ä–∏—É–∫—Ä–∞—Å–∏—Ç—å –Ω–∞—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–æ–º–æ—â—å—é
  [google_fonts](https://pub.dev/packages/google_fonts).
- [HydratedBloc](https://pub.dev/packages/hydrated_bloc) –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º —Å–æ—Ö—Ä–∞–Ω—è—Ç—å
  —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ —Å–Ω–æ–≤–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è.
- –ú—ã –≤–∫–ª—é—á–∏–º –ø–∞–∫–µ—Ç `weather_repository`, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–ª–∏, —á—Ç–æ–±—ã
  –ø–æ–∑–≤–æ–ª–∏—Ç—å –Ω–∞–º –ø–æ–ª—É—á–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–æ–¥–µ!

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º—ã –∑–∞—Ö–æ—Ç–∏–º –≤–∫–ª—é—á–∏—Ç—å –æ–±—ã—á–Ω—ã–π –ø–∞–∫–µ—Ç `test`, –≤–º–µ—Å—Ç–µ —Å `mocktail`
–¥–ª—è –º–æ–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ [bloc_test](https://pub.dev/packages/bloc_test), —á—Ç–æ–±—ã
–æ–±–µ—Å–ø–µ—á–∏—Ç—å –ª–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏–ª–∏ blocs!

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/pubspec.yaml"
	title="pubspec.yaml"
/>

–î–∞–ª–µ–µ, –º—ã –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ —Å–ª–æ–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ —Ñ—É–Ω–∫—Ü–∏–∏ `weather`.

### Weather Model

–¶–µ–ª—å –Ω–∞—à–µ–π –º–æ–¥–µ–ª–∏ –ø–æ–≥–æ–¥—ã - –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–æ–¥–µ, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –Ω–∞—à–∏–º
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –∞ —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (Celsius –∏–ª–∏ Fahrenheit).

–°–æ–∑–¥–∞–π—Ç–µ `flutter_weather/lib/weather/models/weather.dart`:

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/weather/models/weather.dart"
	title="lib/weather/models/weather.dart"
/>

### Create Build File

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `build.yaml` –¥–ª—è —Å–ª–æ—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/build.yaml"
	title="build.yaml"
/>

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ `build_runner` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π (–¥–µ)—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

<BuildRunnerBuildSnippet />

### Barrel File

–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—à–∏ –º–æ–¥–µ–ª–∏ –∏–∑ barrel —Ñ–∞–π–ª–∞
(`flutter_weather/lib/weather/models/models.dart`):

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/weather/models/models.dart"
	title="lib/weather/models/models.dart"
/>

–ó–∞—Ç–µ–º —Å–æ–∑–¥–∞–¥–∏–º –≤–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤—ã–π barrel —Ñ–∞–π–ª weather
(`flutter_weather/lib/weather/weather.dart`);

<WeatherBarrelDartSnippet />

### Weather

–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `HydratedCubit` —á—Ç–æ–±—ã –ø–æ–∑–≤–æ–ª–∏—Ç—å –Ω–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
–∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –¥–∞–∂–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ –∏ —Å–Ω–æ–≤–∞
–æ—Ç–∫—Ä—ã—Ç–æ.

:::note

`HydratedCubit` - —ç—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `Cubit`, –∫–æ—Ç–æ—Ä–æ–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏
–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —Å–µ–∞–Ω—Å–∞–º–∏.

:::

#### Weather State

–ò—Å–ø–æ–ª—å–∑—É—è
[Bloc VSCode](https://marketplace.visualstudio.com/items?itemName=FelixAngelov.bloc)
–∏–ª–∏ [Bloc IntelliJ](https://plugins.jetbrains.com/plugin/12129-bloc) —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ,
—â–µ–ª–∫–Ω–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥–µ `weather` –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π cubit —Å
–∏–º–µ–Ω–µ–º `Weather`. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

<WeatherCubitTreeSnippet />

–ï—Å—Ç—å —á–µ—Ç—ã—Ä–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã:

- `initial` –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —á—Ç–æ-–ª–∏–±–æ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è
- `loading` –≤–æ –≤—Ä–µ–º—è –≤—ã–∑–æ–≤–∞ API
- `success` –µ—Å–ª–∏ –≤—ã–∑–æ–≤ API —É—Å–ø–µ—à–µ–Ω
- `failure` –µ—Å–ª–∏ –≤—ã–∑–æ–≤ API –Ω–µ—É—Å–ø–µ—à–µ–Ω

–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ `WeatherStatus` –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω–æ–µ.

–ü–æ–ª–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–≥–æ–¥—ã –¥–æ–ª–∂–Ω–æ –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/weather/cubit/weather_state.dart"
	title="lib/weather/cubit/weather_state.dart"
/>

#### Weather Cubit

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ `WeatherState`, –Ω–∞–ø–∏—à–µ–º `WeatherCubit`, –∫–æ—Ç–æ—Ä—ã–π
–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:

- `fetchWeather(String? city)` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—à weather repository, —á—Ç–æ–±—ã
  –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç –ø–æ–≥–æ–¥—ã –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞
- `refreshWeather()` –∏–∑–≤–ª–µ–∫–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –ø–æ–≥–æ–¥—ã, –∏—Å–ø–æ–ª—å–∑—É—è weather repository
  –ø—Ä–∏ –¥–∞–Ω–Ω–æ–º —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ–≥–æ–¥—ã
- `toggleUnits()` –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É Celsius –∏ Fahrenheit
- `fromJson(Map<String, dynamic> json)`, `toJson(WeatherState state)`
  –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/weather/cubit/weather_cubit.dart"
	title="lib/weather/cubit/weather_cubit.dart"
/>

:::note

–ù–µ –∑–∞–±—É–¥—å—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ (–¥–µ)—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é:

<BuildRunnerBuildSnippet />
:::

### Unit Tests

–ü–æ–¥–æ–±–Ω–æ —Å–ª–æ—è–º –¥–∞–Ω–Ω—ã—Ö –∏ repository, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–π
–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ª–æ–≥–∏–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–µ–¥–µ—Ç —Å–µ–±—è —Ç–∞–∫, –∫–∞–∫
–º—ã –æ–∂–∏–¥–∞–µ–º. –ú—ã –±—É–¥–µ–º –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞
[bloc_test](https://pub.dev/packages/bloc_test) –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ `mocktail` –∏
`test`.

–î–æ–±–∞–≤–∏–º –ø–∞–∫–µ—Ç—ã `test`, `bloc_test` –∏ `mocktail` –≤ `dev_dependencies`.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/pubspec.yaml"
	title="pubspec.yaml"
/>

:::note

–ü–∞–∫–µ—Ç [bloc_test](https://pub.dev/packages/bloc_test) –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –ª–µ–≥–∫–æ
–ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—Ç—å –Ω–∞—à–∏ blocs –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏
–ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

:::

#### Weather Cubit Tests

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/test/weather/cubit/weather_cubit_test.dart"
	title="test/weather/cubit/weather_cubit_test.dart"
/>

## –°–ª–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

### Weather Page

–ù–∞—á–Ω–µ–º —Å `WeatherPage`, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `BlocProvider` –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è
—ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `WeatherCubit` –¥–µ—Ä–µ–≤—É –≤–∏–¥–∂–µ—Ç–æ–≤.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/weather/view/weather_page.dart"
	title="lib/weather/view/weather_page.dart"
/>

–í—ã –∑–∞–º–µ—Ç–∏—Ç–µ, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∏–¥–∂–µ—Ç–æ–≤ `SettingsPage` –∏ `SearchPage`,
–∫–æ—Ç–æ—Ä—ã–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –¥–∞–ª–µ–µ.

### SettingsPage

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–≤–æ–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –¥–ª—è –µ–¥–∏–Ω–∏—Ü
—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/settings/view/settings_page.dart"
	title="lib/settings/view/settings_page.dart"
/>

### SearchPage

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∏—Å–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∂–µ–ª–∞–µ–º–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –∏
–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –º–∞—Ä—à—Ä—É—Ç—É —á–µ—Ä–µ–∑
`Navigator.of(context).pop`.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/search/view/search_page.dart"
	title="lib/search/view/search_page.dart"
/>

### Weather Widgets

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —á–µ—Ç—ã—Ä–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö
—Å–æ—Å—Ç–æ—è–Ω–∏–π `WeatherCubit`.

#### WeatherEmpty

–≠—Ç–æ—Ç —ç–∫—Ä–∞–Ω –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω, –∫–æ–≥–¥–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø–æ—Ç–æ–º—É —á—Ç–æ
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ—â–µ –Ω–µ –≤—ã–±—Ä–∞–ª –≥–æ—Ä–æ–¥.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/weather/widgets/weather_empty.dart"
	title="lib/weather/widgets/weather_empty.dart"
/>

#### WeatherError

–≠—Ç–æ—Ç —ç–∫—Ä–∞–Ω –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è, –µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/weather/widgets/weather_error.dart"
	title="lib/weather/widgets/weather_error.dart"
/>

#### WeatherLoading

–≠—Ç–æ—Ç —ç–∫—Ä–∞–Ω –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è, –ø–æ–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/weather/widgets/weather_loading.dart"
	title="lib/weather/widgets/weather_loading.dart"
/>

#### WeatherPopulated

–≠—Ç–æ—Ç —ç–∫—Ä–∞–Ω –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –≥–æ—Ä–æ–¥, –∏ –º—ã
–ø–æ–ª—É—á–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/weather/widgets/weather_populated.dart"
	title="lib/weather/widgets/weather_populated.dart"
/>

### Barrel File

–î–æ–±–∞–≤–∏–º —ç—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ barrel —Ñ–∞–π–ª –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –Ω–∞—à–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/weather/widgets/widgets.dart"
	title="lib/weather/widgets/widgets.dart"
/>

### Entrypoint

–ù–∞—à `main.dart` —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à `WeatherApp` –∏ `BlocObserver`
(–¥–ª—è —Ü–µ–ª–µ–π –æ—Ç–ª–∞–¥–∫–∏), –∞ —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞—à `HydratedStorage` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
—Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —Å–µ–∞–Ω—Å–∞–º–∏.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/main.dart"
	title="lib/main.dart"
/>

–ù–∞—à –≤–∏–¥–∂–µ—Ç `app.dart` –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è `WeatherPage`,
–∫–æ—Ç–æ—Ä–æ–µ –º—ã —Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–ª–∏, –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `BlocProvider` –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –Ω–∞—à–µ–≥–æ
`WeatherCubit`.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/lib/app.dart"
	title="lib/app.dart"
/>

### Widget Tests

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ [`bloc_test`](https://pub.dev/packages/bloc_test) —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç
`MockBlocs` –∏ `MockCubits`, –∫–æ—Ç–æ—Ä—ã–µ —É–ø—Ä–æ—â–∞—é—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UI. –ú—ã –º–æ–∂–µ–º –º–æ–∫–∞—Ç—å
—Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö cubits –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ UI —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

<RemoteCode
	url="https://raw.githubusercontent.com/felangel/bloc/master/examples/flutter_weather/test/weather/view/weather_page_test.dart"
	title="test/weather/view/weather_page_test.dart"
/>

:::note

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `MockWeatherCubit` –≤–º–µ—Å—Ç–µ —Å API `when` –∏–∑ `mocktail`, —á—Ç–æ–±—ã
–∑–∞–≥–ª—É—à–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ cubit –≤ –∫–∞–∂–¥–æ–º –∏–∑ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º
—Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ UI –≤–µ–¥–µ—Ç —Å–µ–±—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–∏ –≤—Å–µ—Ö
–æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞—Ö.

:::

## –†–µ–∑—é–º–µ

–í–æ—Ç –∏ –≤—Å–µ, –º—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ! üéâ

–ú—ã –º–æ–∂–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–º–∞–Ω–¥—É `flutter run`.

–ü–æ–ª–Ω—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —ç—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞, –≤–∫–ª—é—á–∞—è unit –∏ widget —Ç–µ—Å—Ç—ã, –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏
[–∑–¥–µ—Å—å](https://github.com/felangel/bloc/tree/master/examples/flutter_weather).
