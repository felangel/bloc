---
title: تخصيص قواعد المدقق (Lint Rules)
description: تخصيص قواعد مدقق bloc
sidebar:
  order: 4
---

import InstallBlocLintSnippet from '~/components/lint/InstallBlocLintSnippet.astro';
import BlocLintRecommendedAnalysisOptionsSnippet from '~/components/lint/BlocLintRecommendedAnalysisOptionsSnippet.astro';
import BlocLintEnablingRulesSnippet from '~/components/lint/BlocLintEnablingRulesSnippet.astro';
import BlocLintDisablingRulesSnippet from '~/components/lint/BlocLintDisablingRulesSnippet.astro';
import BlocLintChangingSeveritySnippet from '~/components/lint/BlocLintChangingSeveritySnippet.astro';
import ImportFlutterInfoSnippet from '~/components/lint/ImportFlutterInfoSnippet.mdx';
import ImportFlutterInfoOutputSnippet from '~/components/lint/ImportFlutterInfoOutputSnippet.astro';
import BlocLintExcludingFilesSnippet from '~/components/lint/BlocLintExcludingFilesSnippet.astro';
import BlocLintIgnoreForLineSnippet from '~/components/lint/BlocLintIgnoreForLineSnippet.astro';
import BlocLintIgnoreForFileSnippet from '~/components/lint/BlocLintIgnoreForFileSnippet.astro';

يمكنك تخصيص سلوك مدقق bloc عن طريق تغيير **شدة (severity)** القواعد الفردية، أو تمكين/تعطيل القواعد بشكل فردي، واستثناء الملفات من التحليل الساكن (static analysis).

## تمكين وتعطيل القواعد

يدعم مدقق bloc قائمة متزايدة من قواعد التدقيق. لاحظ أن قواعد التدقيق لا يجب أن تتفق بالضرورة مع بعضها البعض. على سبيل المثال، قد يفضل بعض المطورين استخدام blocs (`prefer_bloc`) بينما قد يفضل آخرون استخدام cubits (`prefer_cubit`).

:::note

على عكس التحليل الساكن، قد تحتوي قواعد التدقيق على **نتائج إيجابية خاطئة (false positives)**. لا تتردد في الإبلاغ عن أي نتائج إيجابية خاطئة أو مشكلات أخرى عن طريق [فتح مشكلة (filing an issue)](https://github.com/felangel/bloc/issues/new/choose).

:::

### تمكين القواعد الموصى بها

توفر مكتبة bloc مجموعة من قواعد التدقيق الموصى بها كجزء من حزمة [`bloc_lint`](https://pub.dev/packages/bloc_lint).

لتمكين مجموعة قواعد التدقيق الموصى بها، أضف حزمة `bloc_lint` كاعتماد تطوير (dev dependency):

<InstallBlocLintSnippet />

ثم قم بتعديل ملف `analysis_options.yaml` الخاص بك لتضمين مجموعة القواعد:

<BlocLintRecommendedAnalysisOptionsSnippet />

:::note

عند نشر إصدار جديد من `bloc_lint`، قد تبدأ الأكواد التي اجتازت التحليل الساكن سابقًا بالفشل. نوصي بتحديث الكود الخاص بك ليتوافق مع القواعد الجديدة، أو يمكنك أيضًا تمكين أو تعطيل القواعد الفردية اختياريًا.

:::

### تمكين القواعد الفردية

لتمكين القواعد الفردية، أضف `bloc:` إلى ملف `analysis_options.yaml` كمفتاح رئيسي (top-level key) و `rules:` كمفتاح من المستوى الثاني. في الأسطر اللاحقة، حدد القواعد التي تريدها كقائمة YAML (مسبوقة بشرطات).

على سبيل المثال:

<BlocLintEnablingRulesSnippet />

### تعطيل القواعد الفردية

إذا قمت بتضمين مجموعة قواعد موجودة مثل المجموعة **الموصى بها (recommended)**، فقد ترغب في تعطيل قاعدة أو أكثر من قواعد التدقيق المضمنة. تعطيل القواعد مشابه لتمكينها، ولكنه يتطلب استخدام خريطة YAML (YAML map) بدلاً من قائمة.

على سبيل المثال، يشتمل ما يلي على مجموعة قواعد التدقيق الموصى بها باستثناء `avoid_public_bloc_methods`، وبالإضافة إلى ذلك يقوم بتمكين قاعدة `prefer_bloc`:

<BlocLintDisablingRulesSnippet />

## تخصيص شدة القاعدة

يمكنك تعديل شدة أي قاعدة على النحو التالي:

<BlocLintChangingSeveritySnippet />

الآن سيتم الإبلاغ عن نفس قاعدة التدقيق بشدة `info` بدلاً من `warning`:

<ImportFlutterInfoSnippet />

يجب أن يبدو إخراج أمر `bloc lint` كما يلي:

<ImportFlutterInfoOutputSnippet />

خيارات الشدة المدعومة هي:

| الشدة (Severity) | الوصف (Description) |
| :--- | :--- |
| `error` | يشير إلى أن النمط غير مسموح به. |
| `warning` | يشير إلى أن النمط مشبوه ولكنه مسموح به. |
| `info` | يوفر معلومات للمستخدمين ولكنه لا يمثل مشكلة. |
| `hint` | يقترح طريقة أفضل لتحقيق النتيجة. |

## استثناء الملفات

في بعض الأحيان يكون من المقبول أن يفشل التحليل الساكن. على سبيل المثال، قد ترغب في تجاهل التحذيرات أو الأخطاء التي يتم الإبلاغ عنها في الكود الذي تم إنشاؤه (generated code) ولم تكتبه أنت وفريقك. تمامًا كما هو الحال مع قواعد تدقيق Dart الرسمية، يمكنك استخدام خيار المحلل `exclude:` لاستثناء الملفات من التحليل الساكن.

يمكنك إما سرد الملفات الفردية أو استخدام أنماط [`glob`](https://pub.dev/packages/glob).

:::note

يجب أن يكون كل استخدام لأنماط glob نسبيًا للمجلد الذي يحتوي على ملف `analysis_options.yaml` المقابل.

:::

على سبيل المثال، يمكننا استثناء جميع أكواد Dart التي تم إنشاؤها عبر خيارات التحليل التالية:

<BlocLintExcludingFilesSnippet />

## تجاهل القواعد

تمامًا كما هو الحال مع قواعد تدقيق Dart الرسمية، يمكنك تجاهل قواعد تدقيق bloc لملف معين أو سطر من الكود باستخدام `// ignore_for_file` و `// ignore` على التوالي.

:::note

لتجاهل قواعد متعددة لسطر أو ملف معين، قم بتوفير قائمة مفصولة بفواصل.

:::

### تجاهل الأسطر

يمكننا تجاهل حالات محددة لانتهاكات القواعد عن طريق إضافة تعليق `ignore` إما فوق السطر المخالف مباشرة أو بإلحاقه بالسطر المخالف.

على سبيل المثال، يمكننا تجاهل حالات محددة من `prefer_file_naming_conventions` في ملف معين:

<BlocLintIgnoreForLineSnippet />

### تجاهل الملفات

يمكننا تجاهل جميع حالات انتهاكات القواعد داخل ملف عن طريق إضافة تعليق `ignore_for_file` في أي مكان في الملف.

على سبيل المثال، يمكننا تجاهل جميع حالات `prefer_file_naming_conventions` في ملف معين:

<BlocLintIgnoreForFileSnippet />
