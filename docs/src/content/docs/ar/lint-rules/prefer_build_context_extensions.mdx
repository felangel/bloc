---
title: تفضيل استخدام امتدادات BuildContext
description: قاعدة prefer_build_context_extensions.
---

import { Badge } from '@astrojs/starlight/components';
import EnableRuleSnippet from '~/components/lint-rules/EnableRuleSnippet.astro';
import BadSnippet from '~/components/lint-rules/prefer_build_context_extensions/BadSnippet.mdx';
import GoodSnippet from '~/components/lint-rules/prefer_build_context_extensions/GoodSnippet.astro';

<div class="badges">
	<Badge text="new" />
	<Badge text="dart" variant="note" />
</div>

فضل استخدام امتدادات `BuildContext` للوصول إلى كائن `Bloc` أو `Repository`.

:::note

تم تقديم قاعدة التحقق هذه (lint rule) في الإصدار `0.3.2` من حزمة
[`package:bloc_lint`](https://pub.dev/packages/bloc_lint).

:::

## الأساس المنطقي

من أجل الاتساق (consistency)، فضل استخدام امتدادات `BuildContext` مثل
`context.read` و `context.watch` و `context.select` بدلاً من `BlocProvider.of` و
`RepositoryProvider.of` و `BlocBuilder` أو `BlocSelector`.

| الطريقة الصريحة (explicit method)                                   | الامتداد (extension)  |
| ------------------------------------------------------------------- | --------------------- |
| `BlocProvider.of<Bloc>(context, listen: false)`                     | `context.read<Bloc>`  |
| `BlocBuilder<Bloc, State>(...)` أو `BlocProvider.of<Bloc>(context)` | `context.watch<Bloc>` |
| `BlocSelector<Bloc, State>(...)`                                    | `context.select`      |

## أمثلة

**تجنب** استخدام `BlocProvider.of<T>(context)` للوصول إلى كائن `Bloc`.

**مثال سيئ**:

<BadSnippet />

**مثال جيد**:

<GoodSnippet />

## التفعيل

لتفعيل قاعدة `prefer_build_context_extensions`، أضفها إلى ملف
`analysis_options.yaml` الخاص بك تحت المسار `bloc` > `rules`:

<EnableRuleSnippet name="prefer_build_context_extensions" />
