---
title: ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ (FAQs)
description: ุฅุฌุงุจุงุช ููุฃุณุฆูุฉ ุงููุชูุฑุฑุฉ ุจุฎุตูุต ููุชุจุฉ bloc.
---

import StateNotUpdatingGood1Snippet from '~/components/faqs/StateNotUpdatingGood1Snippet.astro';
import StateNotUpdatingGood2Snippet from '~/components/faqs/StateNotUpdatingGood2Snippet.astro';
import StateNotUpdatingGood3Snippet from '~/components/faqs/StateNotUpdatingGood3Snippet.astro';
import StateNotUpdatingBad1Snippet from '~/components/faqs/StateNotUpdatingBad1Snippet.astro';
import StateNotUpdatingBad2Snippet from '~/components/faqs/StateNotUpdatingBad2Snippet.astro';
import StateNotUpdatingBad3Snippet from '~/components/faqs/StateNotUpdatingBad3Snippet.astro';
import EquatableEmitSnippet from '~/components/faqs/EquatableEmitSnippet.astro';
import EquatableBlocTestSnippet from '~/components/faqs/EquatableBlocTestSnippet.astro';
import NoEquatableBlocTestSnippet from '~/components/faqs/NoEquatableBlocTestSnippet.astro';
import SingleStateSnippet from '~/components/faqs/SingleStateSnippet.astro';
import SingleStateUsageSnippet from '~/components/faqs/SingleStateUsageSnippet.astro';
import BlocProviderGood1Snippet from '~/components/faqs/BlocProviderGood1Snippet.astro';
import BlocProviderGood2Snippet from '~/components/faqs/BlocProviderGood2Snippet.astro';
import BlocProviderBad1Snippet from '~/components/faqs/BlocProviderBad1Snippet.astro';
import BlocInternalAddEventSnippet from '~/components/faqs/BlocInternalAddEventSnippet.astro';
import BlocInternalEventSnippet from '~/components/faqs/BlocInternalEventSnippet.astro';
import BlocExternalForEachSnippet from '~/components/faqs/BlocExternalForEachSnippet.astro';

## ุนุฏู ุชุญุฏูุซ ุงูุญุงูุฉ (State Not Updating)

โ **ุณุคุงู**: ุฃููู ุจุฅุตุฏุงุฑ ุญุงูุฉ (emitting a state) ูู ุงูู bloc ุงูุฎุงุต ุจู ูููู ูุงุฌูุฉ ุงููุณุชุฎุฏู (UI) ูุง ุชุชุญุฏุซ. ูุง ุงูุฎุทุฃ ุงูุฐู ุฃุฑุชูุจูุ

๐ก **ุฅุฌุงุจุฉ**: ุฅุฐุง ููุช ุชุณุชุฎุฏู `Equatable`ุ ูุชุฃูุฏ ูู ุชูุฑูุฑ ุฌููุน ุงูุฎุตุงุฆุต ุฅูู ููุญุตูู ุงูุฎุตุงุฆุต (`props` getter).

โ **ุตุญูุญ (GOOD)**

<StateNotUpdatingGood1Snippet />

โ **ุฎุงุทุฆ (BAD)**

<StateNotUpdatingBad1Snippet />

<StateNotUpdatingBad2Snippet />

ุจุงูุฅุถุงูุฉ ุฅูู ุฐููุ ุชุฃูุฏ ูู ุฃูู ุชุตุฏุฑ ูุซููุงู ุฌุฏูุฏูุง ููุญุงูุฉ (new instance of the state) ูู ุงูู bloc ุงูุฎุงุต ุจู.

โ **ุตุญูุญ (GOOD)**

<StateNotUpdatingGood2Snippet />

<StateNotUpdatingGood3Snippet />

โ **ุฎุงุทุฆ (BAD)**

<StateNotUpdatingBad3Snippet />

:::caution

ูุฌุจ ุฏุงุฆููุง ูุณุฎ ุฎุตุงุฆุต `Equatable` ุจุฏูุงู ูู ุชุนุฏูููุง. ุฅุฐุง ูุงูุช ูุฆุฉ `Equatable` ุชุญุชูู ุนูู `List` ุฃู `Map` ูุฎุตุงุฆุตุ ูุชุฃูุฏ ูู ุงุณุชุฎุฏุงู `List.of` ุฃู `Map.of` ุนูู ุงูุชูุงูู ูุถูุงู ุชูููู ุงููุณุงูุงุฉ ุจูุงุกู ุนูู ููู ุงูุฎุตุงุฆุต ุจุฏูุงู ูู ุงููุฑุฌุน (reference).

:::

## ูุชู ูุฌุจ ุงุณุชุฎุฏุงู Equatable

โ**ุณุคุงู**: ูุชู ูุฌุจ ุนูู ุงุณุชุฎุฏุงู Equatableุ

๐ก**ุฅุฌุงุจุฉ**:

<EquatableEmitSnippet />

ูู ุงูุณููุงุฑูู ุฃุนูุงูุ ุฅุฐุง ูุงูุช `StateA` ุชุฑุซ ูู `Equatable`ุ ูุณูุญุฏุซ ุชุบููุฑ ูุงุญุฏ ููุท ูู ุงูุญุงูุฉ (ุณูุชู ุชุฌุงูู ุงูุฅุตุฏุงุฑ ุงูุซุงูู). ุจุดูู ุนุงูุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู `Equatable` ุฅุฐุง ููุช ุชุฑุบุจ ูู ุชุญุณูู ุงูููุฏ ุงูุฎุงุต ุจู ูุชูููู ุนุฏุฏ ุนูููุงุช ุฅุนุงุฏุฉ ุงูุจูุงุก. ูุฌุจ ุฃูุง ุชุณุชุฎุฏู `Equatable` ุฅุฐุง ููุช ุชุฑูุฏ ุฃู ุชุคุฏู ููุณ ุงูุญุงูุฉ ุงููุชุชุงููุฉ ุฅูู ุชุดุบูู ุงูุชูุงูุงุช ูุชุนุฏุฏุฉ.

ุจุงูุฅุถุงูุฉ ุฅูู ุฐููุ ูุฅู ุงุณุชุฎุฏุงู `Equatable` ูุฌุนู ุงุฎุชุจุงุฑ ุงูู blocs ุฃุณูู ุจูุซูุฑ ุญูุซ ูููููุง ุชููุน ูุซููุงุช ูุญุฏุฏุฉ ูุญุงูุงุช ุงูู bloc ุจุฏูุงู ูู ุงุณุชุฎุฏุงู `Matchers` ุฃู `Predicates`.

<EquatableBlocTestSnippet />

ุจุฏูู `Equatable`ุ ุณููุดู ุงูุงุฎุชุจุงุฑ ุฃุนูุงู ูุณูุญุชุงุฌ ุฅูู ุฅุนุงุฏุฉ ูุชุงุจุชู ุนูู ุงููุญู ุงูุชุงูู:

<NoEquatableBlocTestSnippet />

## ุงูุชุนุงูู ูุน ุงูุฃุฎุทุงุก (Handling Errors)

โ **ุณุคุงู**: ููู ูููููู ุงูุชุนุงูู ูุน ุฎุทุฃ ูุน ุงูุงุณุชูุฑุงุฑ ูู ุนุฑุถ ุงูุจูุงูุงุช ุงูุณุงุจูุฉุ

๐ก **ุฅุฌุงุจุฉ**:

ูุนุชูุฏ ูุฐุง ุจุดูู ูุจูุฑ ุนูู ููููุฉ ููุฐุฌุฉ ุญุงูุฉ ุงูู bloc. ูู ุงูุญุงูุงุช ุงูุชู ูุฌุจ ูููุง ุงูุงุญุชูุงุธ ุจุงูุจูุงูุงุช ุญุชู ูู ุญุงูุฉ ูุฌูุฏ ุฎุทุฃุ ููุฑ ูู ุงุณุชุฎุฏุงู ูุฆุฉ ุญุงูุฉ ูุงุญุฏุฉ.

<SingleStateSnippet />

ุณูุณูุญ ูุฐุง ููููุฏุฌุชุงุช ุจุงููุตูู ุฅูู ุฎุตุงุฆุต `data` ู `error` ูู ููุช ูุงุญุฏุ ููููู ููู bloc ุงุณุชุฎุฏุงู `state.copyWith` ููุงุญุชูุงุธ ุจุงูุจูุงูุงุช ุงููุฏููุฉ ุญุชู ุนูุฏ ุญุฏูุซ ุฎุทุฃ.

<SingleStateUsageSnippet />

## Bloc ููุงุจู Redux

โ **ุณุคุงู**: ูุง ุงููุฑู ุจูู Bloc ู Reduxุ

๐ก **ุฅุฌุงุจุฉ**:

BLoC ูู ููุท ุชุตููู (design pattern) ูุชู ุชุนุฑููู ุจุงูููุงุนุฏ ุงูุชุงููุฉ:

1.  ูุฏุฎูุงุช ููุฎุฑุฌุงุช ุงูู BLoC ูู ูุฌุฑุฏ ุชุฏููุงุช (Streams) ููุตุงุฑู (Sinks).
2.  ูุฌุจ ุฃู ุชููู ุงูุชุจุนูุงุช ูุงุจูุฉ ููุญูู (injectable) ููุณุชููุฉ ุนู ุงูููุตุฉ (Platform agnostic).
3.  ูุง ููุณูุญ ุจุงูุชูุฑุน ุงูุฎุงุต ุจุงูููุตุฉ (platform branching).
4.  ูููู ุฃู ูููู ุงูุชูููุฐ ุฃู ุดูุก ุชุฑูุฏู ุทุงููุง ุฃูู ุชุชุจุน ุงูููุงุนุฏ ุงููุฐููุฑุฉ ุฃุนูุงู.

ุฅุฑุดุงุฏุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู (UI) ูู:

1.  ูู ูููู "ูุนูุฏ ุจูุง ููู ุงูููุงูุฉ" ูุฏูู BLoC ููุงุจู.
2.  ูุฌุจ ุฃู ุชุฑุณู ุงูููููุงุช ุงููุฏุฎูุงุช "ููุง ูู".
3.  ูุฌุจ ุฃู ุชุนุฑุถ ุงูููููุงุช ุงููุฎุฑุฌุงุช ุฃูุฑุจ ูุง ูููู ุฅูู "ููุง ูู".
4.  ูุฌุจ ุฃู ูุนุชูุฏ ูู ุงูุชูุฑุน ุนูู ูุฎุฑุฌุงุช BLoC ุงูููุทููุฉ (boolean) ุงูุจุณูุทุฉ.

ุชููุฐ ููุชุจุฉ Bloc ููุท ุชุตููู BLoC ูุชูุฏู ุฅูู ุชุฌุฑูุฏ `RxDart` ูุชุจุณูุท ุชุฌุฑุจุฉ ุงููุทูุฑ.

ุงููุจุงุฏุฆ ุงูุซูุงุซุฉ ูู Redux ูู:

1.  ูุตุฏุฑ ูุงุญุฏ ููุญูููุฉ (Single source of truth).
2.  ุงูุญุงูุฉ ูููุฑุงุกุฉ ููุท (State is read-only).
3.  ูุชู ุฅุฌุฑุงุก ุงูุชุบููุฑุงุช ุจุงุณุชุฎุฏุงู ุฏูุงู ูููุฉ (pure functions).

ุชูุชูู ููุชุจุฉ bloc ุงููุจุฏุฃ ุงูุฃููุ ููู blocุ ูุชู ุชูุฒูุน ุงูุญุงูุฉ ุนุจุฑ ุนุฏุฉ blocs. ุนูุงูุฉ ุนูู ุฐููุ ูุง ููุฌุฏ ููููู ููู middleware ูู blocุ ูุชู ุชุตููู bloc ูุฌุนู ุชุบููุฑุงุช ุงูุญุงูุฉ ุบูุฑ ุงููุชุฒุงููุฉ (async state changes) ุณููุฉ ููุบุงูุฉุ ููุง ูุณูุญ ูู ุจุฅุตุฏุงุฑ ุญุงูุงุช ูุชุนุฏุฏุฉ ูุญุฏุซ ูุงุญุฏ.

## Bloc ููุงุจู Provider

โ **ุณุคุงู**: ูุง ุงููุฑู ุจูู Bloc ู Providerุ

๐ก **ุฅุฌุงุจุฉ**: ุชู ุชุตููู `provider` ูุญูู ุงูุชุจุนูุฉ (Dependency Injection) (ููู ูุบูู `InheritedWidget`). ูุง ูุฒุงู ูุชุนูู ุนููู ูุนุฑูุฉ ููููุฉ ุฅุฏุงุฑุฉ ุญุงูุชู (ุนุจุฑ `ChangeNotifier`ุ `Bloc`ุ `Mobx`ุ ููุง ุฅูู ุฐูู...). ุชุณุชุฎุฏู ููุชุจุฉ Bloc ุญุฒูุฉ `provider` ุฏุงุฎูููุง ูุชุณููู ุชูููุฑ ุงูู blocs ูุงููุตูู ุฅูููุง ูู ุฌููุน ุฃูุญุงุก ุดุฌุฑุฉ ุงูู Widgets.

## ูุดู BlocProvider.of() ูู ุงูุนุซูุฑ ุนูู Bloc

โ **ุณุคุงู**: ุนูุฏ ุงุณุชุฎุฏุงู `BlocProvider.of(context)`ุ ูุง ููููู ุงูุนุซูุฑ ุนูู ุงูู bloc. ููู ูููููู ุฅุตูุงุญ ุฐููุ

๐ก **ุฅุฌุงุจุฉ**: ูุง ููููู ุงููุตูู ุฅูู bloc ูู ููุณ ุงูุณูุงู ุงูุฐู ุชู ุชูููุฑู ูููุ ูุฐุง ูุฌุจ ุนููู ุงูุชุฃูุฏ ูู ุงุณุชุฏุนุงุก `BlocProvider.of()` ุถูู ุณูุงู ุจูุงุก ูุฑุนู (`BuildContext` child).

โ **ุตุญูุญ (GOOD)**

<BlocProviderGood1Snippet />

<BlocProviderGood2Snippet />

โ **ุฎุงุทุฆ (BAD)**

<BlocProviderBad1Snippet />

## ููููุฉ ุงููุดุฑูุน (Project Structure)

โ **ุณุคุงู**: ููู ูุฌุจ ุฃู ุฃููู ุจููููุฉ ูุดุฑูุนูุ

๐ก **ุฅุฌุงุจุฉ**: ุนูู ุงูุฑุบู ูู ุนุฏู ูุฌูุฏ ุฅุฌุงุจุฉ ุตุญูุญุฉ/ุฎุงุทุฆุฉ ุญููุง ููุฐุง ุงูุณุคุงูุ ูุฅู ุจุนุถ ุงููุฑุงุฌุน ุงูููุตู ุจูุง ูู:

-   [I/O Photobooth](https://github.com/flutter/photobooth)
-   [I/O Pinball](https://github.com/flutter/pinball)
-   [Flutter News Toolkit](https://github.com/flutter/news_toolkit)

ุงูุดูุก ุงูุฃูุซุฑ ุฃูููุฉ ูู ุฃู ูููู ูุฏูู ูููู ูุดุฑูุน **ูุชุณู** ู **ููุตูุฏ**.

## ุฅุถุงูุฉ ุงูุฃุญุฏุงุซ ุฏุงุฎู Bloc

โ **ุณุคุงู**: ูู ูู ุงูููุจูู ุฅุถุงูุฉ ุงูุฃุญุฏุงุซ ุฏุงุฎู blocุ

๐ก **ุฅุฌุงุจุฉ**: ูู ูุนุธู ุงูุญุงูุงุชุ ูุฌุจ ุฅุถุงูุฉ ุงูุฃุญุฏุงุซ ุฎุงุฑุฌููุงุ ูููู ูู ุจุนุถ ุงูุญุงูุงุช ุงููุฎุชุงุฑุฉ ูุฏ ูููู ูู ุงูููุทูู ุฅุถุงูุฉ ุงูุฃุญุฏุงุซ ุฏุงุฎูููุง.

ุงูุญุงูุฉ ุงูุฃูุซุฑ ุดููุนูุง ุงูุชู ุชูุณุชุฎุฏู ูููุง ุงูุฃุญุฏุงุซ ุงูุฏุงุฎููุฉ ูู ุนูุฏูุง ูุฌุจ ุฃู ุชุญุฏุซ ุชุบููุฑุงุช ุงูุญุงูุฉ ุงุณุชุฌุงุจุฉู ููุชุญุฏูุซุงุช ูู ุงูููุช ุงููุนูู ูู ูุณุชูุฏุน (repository). ูู ูุฐู ุงูุญุงูุงุชุ ูููู ุงููุณุชูุฏุน ูู ุงููุญูุฒ ูุชุบููุฑ ุงูุญุงูุฉ ุจุฏูุงู ูู ุญุฏุซ ุฎุงุฑุฌู ูุซู ุงูููุฑ ุนูู ุฒุฑ.

ูู ุงููุซุงู ุงูุชุงููุ ุชุนุชูุฏ ุญุงูุฉ `MyBloc` ุนูู ุงููุณุชุฎุฏู ุงูุญุงูู ุงูุฐู ูุชู ูุดูู ุนุจุฑ `Stream<User>` ูู `UserRepository`. ูุณุชูุน `MyBloc` ููุชุบููุฑุงุช ูู ุงููุณุชุฎุฏู ุงูุญุงูู ููุถูู ุญุฏุซูุง ุฏุงุฎูููุง `_UserChanged` ูููุง ุชู ุฅุตุฏุงุฑ ูุณุชุฎุฏู ูู ุชุฏูู ุงููุณุชุฎุฏู.

<BlocInternalAddEventSnippet />

ูู ุฎูุงู ุฅุถุงูุฉ ุญุฏุซ ุฏุงุฎููุ ูููููุง ุฃูุถูุง ุชุญุฏูุฏ `transformer` ูุฎุตุต ููุญุฏุซ ูุชุญุฏูุฏ ููููุฉ ูุนุงูุฌุฉ ุฃุญุฏุงุซ `_UserChanged` ุงููุชุนุฏุฏุฉ - ุณูุชู ูุนุงูุฌุชูุง ุจุงูุชูุงุฒู ุงูุชุฑุงุถููุง.

ููุตู ุจุดุฏุฉ ุจุฃู ุชููู ุงูุฃุญุฏุงุซ ุงูุฏุงุฎููุฉ ุฎุงุตุฉ (private). ูุฐู ุทุฑููุฉ ูุงุถุญุฉ ููุฅุดุงุฑุฉ ุฅูู ุฃู ุญุฏุซูุง ูุนูููุง ููุณุชุฎุฏู ููุท ุฏุงุฎู ุงูู bloc ููุณู ููููุน ุงูููููุงุช ุงูุฎุงุฑุฌูุฉ ูู ูุนุฑูุฉ ูุฐุง ุงูุญุฏุซ.

<BlocInternalEventSnippet />

ูููููุง ุจุฏูุงู ูู ุฐูู ุชุนุฑูู ุญุฏุซ ุฎุงุฑุฌู `Started` ูุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช `emit.forEach` ููุชุนุงูู ูุน ุงูุชูุงุนู ูุน ุชุญุฏูุซุงุช ุงููุณุชุฎุฏู ูู ุงูููุช ุงููุนูู:

<BlocExternalForEachSnippet />

ููุงุฆุฏ ูุฐุง ุงูููุฌ ูู:

-   ูุง ูุญุชุงุฌ ุฅูู ุญุฏุซ ุฏุงุฎูู `_UserChanged`.
-   ูุง ูุญุชุงุฌ ุฅูู ุฅุฏุงุฑุฉ `StreamSubscription` ูุฏูููุง.
-   ูุฏููุง ุณูุทุฑุฉ ูุงููุฉ ุนูู ูุชู ูุดุชุฑู ุงูู bloc ูู ุชุฏูู ุชุญุฏูุซุงุช ุงููุณุชุฎุฏู.

ุนููุจ ูุฐุง ุงูููุฌ ูู:

-   ูุง ูููููุง ุจุณูููุฉ `pause` ุฃู `resume` ุงูุงุดุชุฑุงู.
-   ูุญุชุงุฌ ุฅูู ูุดู ุญุฏุซ ุนุงู `Started` ูุฌุจ ุฅุถุงูุชู ุฎุงุฑุฌููุง.
-   ูุง ูููููุง ุงุณุชุฎุฏุงู `transformer` ูุฎุตุต ูุถุจุท ููููุฉ ุชูุงุนููุง ูุน ุชุญุฏูุซุงุช ุงููุณุชุฎุฏู.

## ูุดู ุงูุฏูุงู ุงูุนุงูุฉ (Exposing Public Methods)

โ **ุณุคุงู**: ูู ูู ุงูููุจูู ูุดู ุฏูุงู ุนุงูุฉ (public methods) ุนูู ูุซููุงุช bloc ู cubit ุงูุฎุงุตุฉ ุจูุ

๐ก **ุฅุฌุงุจุฉ**

ุนูุฏ ุฅูุดุงุก cubitุ ููุตู ุจูุดู ุงูุฏูุงู ุงูุนุงูุฉ ููุท ูุบุฑุถ ุชุดุบูู ุชุบููุฑุงุช ุงูุญุงูุฉ. ููุชูุฌุฉ ูุฐููุ ูุฌุจ ุฃู ุชุนูุฏ ุฌููุน ุงูุฏูุงู ุงูุนุงูุฉ ุนูู ูุซูู cubit ุจุดูู ุนุงู `void` ุฃู `Future<void>`.

ุนูุฏ ุฅูุดุงุก blocุ ููุตู ุจุชุฌูุจ ูุดู ุฃู ุฏูุงู ุนุงูุฉ ูุฎุตุตุฉ ูุจุฏูุงู ูู ุฐูู ุฅุฎุทุงุฑ ุงูู bloc ุจุงูุฃุญุฏุงุซ ุนู ุทุฑูู ุงุณุชุฏุนุงุก `add`.
